<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Le versioning# Quel est le problème qu’on cherche à résoudre?# Le logiciel (et le code source dont il est constitué) a une particularité fondamentale : il change tout le temps. Même un programme simple est rapidement modifié - pour corriger un bug, ajouter une fonctionnalité, améliorer la performance ou simplement rendre le code plus lisible. Et très vite, une question apparaît : comment savoir ce qui a changé, quand, et pourquoi ?
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/"><meta property="og:site_name" content="INF1410 - Initiation au génie logiciel"><meta property="og:title" content="Le versioning avec git"><meta property="og:description" content="Le versioning# Quel est le problème qu’on cherche à résoudre?# Le logiciel (et le code source dont il est constitué) a une particularité fondamentale : il change tout le temps. Même un programme simple est rapidement modifié - pour corriger un bug, ajouter une fonctionnalité, améliorer la performance ou simplement rendre le code plus lisible. Et très vite, une question apparaît : comment savoir ce qui a changé, quand, et pourquoi ?"><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta itemprop=name content="Le versioning avec git"><meta itemprop=description content="Le versioning# Quel est le problème qu’on cherche à résoudre?# Le logiciel (et le code source dont il est constitué) a une particularité fondamentale : il change tout le temps. Même un programme simple est rapidement modifié - pour corriger un bug, ajouter une fonctionnalité, améliorer la performance ou simplement rendre le code plus lisible. Et très vite, une question apparaît : comment savoir ce qui a changé, quand, et pourquoi ?"><meta itemprop=wordCount content="9130"><title>Le versioning avec git | INF1410 - Initiation au génie logiciel</title><link rel=icon href=https://cjauvin.github.io/inf1410-teluq/images/2gears.png><link rel=manifest href=https://cjauvin.github.io/inf1410-teluq/manifest.json><link rel=canonical href=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/><link rel=stylesheet href=https://cjauvin.github.io/inf1410-teluq/book.min.427fd74effaa6729c02a67f5c2fcf3aacdee5c04af08e6536e0f6fc0b2d61589.css integrity="sha256-Qn/XTv+qZynAKmf1wvzzqs3uXASvCOZTbg9vwLLWFYk=" crossorigin=anonymous><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}}</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=stylesheet href=https://cjauvin.github.io/inf1410-teluq/css/applet.css></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=https://cjauvin.github.io/inf1410-teluq/><img src=https://cjauvin.github.io/inf1410-teluq/images/2gears.png alt=Logo><span>INF1410 - Initiation au génie logiciel</span></a></h2><ul><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/environnements/>Environnements du cours</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/travaux-not%C3%A9s/>Travaux notés</a></li><li><input type=checkbox id=section-ceede6672d79ee87ce5f1a12533f0f89 class=toggle>
<label for=section-ceede6672d79ee87ce5f1a12533f0f89 class=flex><a href=https://cjauvin.github.io/inf1410-teluq/docs/module1/>Module 1 - Le génie logiciel</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module1/intro-gl/>Qu'est-ce que le génie logiciel?</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module1/historique/>Les idées historiques importantes</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module1/historique2/>Survol historiquee des jalons du GL</a></li></ul></li><li><input type=checkbox id=section-6bcde8c955d2ef4a29812289ee291845 class=toggle>
<label for=section-6bcde8c955d2ef4a29812289ee291845 class=flex><a href=https://cjauvin.github.io/inf1410-teluq/docs/module2/>Module 2 - La programmation</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module2/prog-recap/>Survol rapide de la programmation</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module2/principes/>Principes généraux fameux</a></li></ul></li><li><input type=checkbox id=section-dacaf5bf92061137876427d5274f80b8 class=toggle checked>
<label for=section-dacaf5bf92061137876427d5274f80b8 class=flex><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/>Module 3 - Les outils et les environnements</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/ class=active>Le versioning avec git</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/docker/>La conteneurisation avec docker</a></li><li><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/package-managers/>La gestion de packages et de librairies avec uv</a></li></ul></li><li><input type=checkbox id=section-d43313f1368df8488a83030094191c31 class=toggle>
<label for=section-d43313f1368df8488a83030094191c31 class=flex><a href=https://cjauvin.github.io/inf1410-teluq/docs/module4/>Module 4 - La gestion de projet et la collaboration</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><input type=checkbox id=section-a26973bae2fed65c6fe8fb0151c28c36 class=toggle>
<label for=section-a26973bae2fed65c6fe8fb0151c28c36 class=flex><a href=https://cjauvin.github.io/inf1410-teluq/docs/module5/>Module 5 - Les données</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><input type=checkbox id=section-e048a05c5e3f3e77303c39a90f95ec11 class=toggle>
<label for=section-e048a05c5e3f3e77303c39a90f95ec11 class=flex><a role=button>Module 6 - L'infonuagique</a>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=https://cjauvin.github.io/inf1410-teluq/icons/menu.svg class=book-icon alt=Menu></label><h3>Le versioning avec git</h3><label for=toc-control><img src=https://cjauvin.github.io/inf1410-teluq/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#quel-est-le-problème-quon-cherche-à-résoudre>Quel est le problème qu&rsquo;on cherche à résoudre?</a></li><li><a href=#bref-historique-des-systèmes-de-gestion-de-versions>Bref historique des systèmes de gestion de versions</a><ul><li><a href=#première-génération--local-et-fichier-unique>Première génération : local et fichier unique</a></li><li><a href=#deuxième-génération--centralisé-et-projets-entiers>Deuxième génération : centralisé et projets entiers</a></li><li><a href=#troisième-génération--distribué>Troisième génération : distribué</a></li><li><a href=#tableau-récapitulatif>Tableau récapitulatif</a></li></ul></li><li><a href=#un-système-de-gestion-des-versions-moderne-et-extrêmement-populaire--git>Un système de gestion des versions moderne et extrêmement populaire : git</a><ul><li><a href=#fonction-de-hachage>Fonction de hachage</a></li><li><a href=#les-fondements-de-git>Les fondements de git</a><ul><li><a href=#premier-type-dobjet-fondamental-git--le-blob>Premier type d&rsquo;objet fondamental git : le blob</a></li><li><a href=#deuxième-type-dobjet-git-fondamental--le-tree>Deuxième type d&rsquo;objet git fondamental : le tree</a></li><li><a href=#troisième-type-dobjet-git-fondamental--le-commit>Troisième type d&rsquo;objet git fondamental : le commit</a></li><li><a href=#la-branche>La branche</a></li><li><a href=#le-merge-de-deux-branches>Le merge (de deux branches)</a></li></ul></li><li><a href=#au-delà-du-git-local--git-distribué>Au-delà du git local : git distribué</a></li><li><a href=#collaborer-avec-git-et-github>Collaborer avec git et GitHub</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=le-versioning>Le versioning<a class=anchor href=#le-versioning>#</a></h1><h2 id=quel-est-le-problème-quon-cherche-à-résoudre>Quel est le problème qu&rsquo;on cherche à résoudre?<a class=anchor href=#quel-est-le-probl%c3%a8me-quon-cherche-%c3%a0-r%c3%a9soudre>#</a></h2><p>Le logiciel (et le code source dont il est constitué) a une particularité
fondamentale : il change tout le temps. Même un programme simple est rapidement
modifié - pour corriger un bug, ajouter une fonctionnalité, améliorer la
performance ou simplement rendre le code plus lisible. Et très vite, une
question apparaît : comment savoir ce qui a changé, quand, et pourquoi ?</p><p>Sans système de versioning, le développement logiciel devient fragile. On copie
des fichiers, on renomme des dossiers (« version2 », « version_finale », «
version_finale_bis »), on échange du code par courriel ou sur un disque partagé.
Ces solutions fonctionnent… jusqu’au moment où elles ne fonctionnent plus : on
perd une modification importante, on ne sait plus quelle version est la bonne,
ou deux personnes écrasent mutuellement leur travail.</p><p>Le versioning n’est pas une simple sauvegarde. Sauvegarder, c’est garder une
photo du code à un instant donné. Versionner, c’est garder la mémoire de son
évolution. Un bon système de versioning permet de revenir en arrière, de
comprendre l’historique d’un projet, de travailler à plusieurs sans se gêner, et
d’expérimenter sans casser ce qui fonctionne.</p><p>À mesure que les projets grossissent et que le travail devient collectif, le
versioning devient indispensable. Il structure la façon dont on travaille, dont
on collabore, et même dont on réfléchit au code. C’est ce problème — gérer le
changement — qui a conduit à la création des systèmes de contrôle de versions,
et en particulier de Git, que nous allons étudier dans ce chapitre.</p><h2 id=bref-historique-des-systèmes-de-gestion-de-versions>Bref historique des systèmes de gestion de versions<a class=anchor href=#bref-historique-des-syst%c3%a8mes-de-gestion-de-versions>#</a></h2><h3 id=première-génération--local-et-fichier-unique>Première génération : local et fichier unique<a class=anchor href=#premi%c3%a8re-g%c3%a9n%c3%a9ration--local-et-fichier-unique>#</a></h3><p><strong>SCCS</strong> (Source Code Control System, 1972) — Bell Labs</p><ul><li>Premier système de versioning, créé par Marc Rochkind</li><li>Stockage par deltas (différences) pour économiser l&rsquo;espace</li><li>Un seul fichier à la fois, un seul utilisateur à la fois</li><li>Verrouillage exclusif pour éviter les conflits</li></ul><p><strong>RCS</strong> (Revision Control System, 1982) — Walter Tichy, Purdue</p><ul><li>Amélioration de SCCS, plus rapide grâce aux deltas inversés (stocke la version courante en entier, reconstruit les anciennes)</li><li>Toujours limité à des fichiers individuels</li><li>Reste local à une machine</li></ul><h3 id=deuxième-génération--centralisé-et-projets-entiers>Deuxième génération : centralisé et projets entiers<a class=anchor href=#deuxi%c3%a8me-g%c3%a9n%c3%a9ration--centralis%c3%a9-et-projets-entiers>#</a></h3><p><strong>CVS</strong> (Concurrent Versions System, 1986–1990) — Dick Grune, puis Brian Berliner</p><ul><li>Construit au-dessus de RCS mais gère des arborescences de fichiers</li><li>Premier système vraiment <em>concurrent</em> : plusieurs développeurs peuvent modifier simultanément</li><li>Modèle client-serveur avec un dépôt central</li><li>Faiblesses notoires : pas de commits atomiques, gestion pénible des renommages et des branches</li></ul><p><strong>Perforce</strong> (1995) — commercial</p><ul><li>Très performant sur de gros dépôts binaires</li><li>Encore utilisé dans l&rsquo;industrie du jeu vidéo et les grandes entreprises</li></ul><p><strong>Subversion (SVN)</strong> (2000) — CollabNet</p><ul><li>Conçu explicitement pour corriger les défauts de CVS</li><li>Commits atomiques, versioning des répertoires, renommages suivis</li><li>Toujours centralisé : le serveur est la source de vérité unique</li><li>Numérotation linéaire des révisions (r1, r2, r3…)</li></ul><h3 id=troisième-génération--distribué>Troisième génération : distribué<a class=anchor href=#troisi%c3%a8me-g%c3%a9n%c3%a9ration--distribu%c3%a9>#</a></h3><p><strong>BitKeeper</strong> (1998–2000) — Larry McVoy</p><ul><li>Premier système distribué utilisé à grande échelle (noyau Linux de 2002 à 2005)</li><li>Licence propriétaire controversée, ce qui a mené à la création de Git</li></ul><p><strong>GNU Arch / Bazaar / Darcs</strong> (début 2000)</p><ul><li>Expérimentations diverses sur le versioning distribué</li><li>Darcs introduit une approche par patches commutatifs (théorie des patches)</li></ul><p><strong>Git</strong> (2005) — Linus Torvalds</p><ul><li>Créé en quelques semaines après la rupture avec BitKeeper</li><li>Objectifs : vitesse, intégrité des données, support massif des branches</li><li>Caractéristiques clés :</li><li>Chaque clone est un dépôt complet avec tout l&rsquo;historique</li><li>Stockage par snapshots (pas deltas) avec déduplication via SHA-1</li><li>Branches ultra-légères (simples pointeurs)</li><li>Travail hors ligne total</li><li>Modèle de staging (index) avant commit</li><li>Devenu le standard de facto grâce à GitHub (2008)</li></ul><p><strong>Mercurial</strong> (2005) — Matt Mackall</p><ul><li>Lancé la même semaine que Git, mêmes motivations</li><li>Interface plus simple, concepts similaires</li><li>Utilisé par Facebook, Mozilla (historiquement)</li><li>Moins dominant aujourd&rsquo;hui, mais toujours actif</li></ul><hr><h3 id=tableau-récapitulatif>Tableau récapitulatif<a class=anchor href=#tableau-r%c3%a9capitulatif>#</a></h3><table><thead><tr><th>Système</th><th>Année</th><th>Modèle</th><th>Granularité</th><th>Particularité</th></tr></thead><tbody><tr><td>SCCS</td><td>1972</td><td>Local</td><td>Fichier</td><td>Premier système, deltas</td></tr><tr><td>RCS</td><td>1982</td><td>Local</td><td>Fichier</td><td>Deltas inversés</td></tr><tr><td>CVS</td><td>1990</td><td>Centralisé</td><td>Projet</td><td>Accès concurrent</td></tr><tr><td>SVN</td><td>2000</td><td>Centralisé</td><td>Projet</td><td>Commits atomiques</td></tr><tr><td>Git</td><td>2005</td><td>Distribué</td><td>Projet</td><td>Snapshots, branches légères</td></tr><tr><td>Mercurial</td><td>2005</td><td>Distribué</td><td>Projet</td><td>Interface épurée</td></tr></tbody></table><p>L&rsquo;évolution suit une logique claire : d&rsquo;abord résoudre le problème du suivi pour
un fichier, puis pour un projet, puis permettre la collaboration, et enfin
décentraliser pour la résilience et la flexibilité.</p><h2 id=un-système-de-gestion-des-versions-moderne-et-extrêmement-populaire--git>Un système de gestion des versions moderne et extrêmement populaire : git<a class=anchor href=#un-syst%c3%a8me-de-gestion-des-versions-moderne-et-extr%c3%aamement-populaire--git>#</a></h2><h3 id=fonction-de-hachage>Fonction de hachage<a class=anchor href=#fonction-de-hachage>#</a></h3><p>Pour se construire un bon modèle mental du fonctionnement de git, il est essentiel de
bien comprendre tout d&rsquo;abord la notion de <strong>fonction de hachage</strong>.</p><p>Une fonction de hachage est une fonction mathématique qui prend en entrée un
nombre, et qui retourne un autre nombre. Une fonction de hachage ne peut pas
être n&rsquo;importe quelle fonction par contre (comme par exemple $f(x) = mx + b$),
elle doit avoir certaines caractéristiques :</p><ul><li><p>Déterminisme : Pour une même donnée en entrée, vous obtiendrez toujours exactement le même hash en sortie.</p></li><li><p>Rapidité : Le calcul du hash doit être presque instantané.</p></li><li><p>Effet d&rsquo;avalanche : Si vous changez ne serait-ce qu&rsquo;une virgule ou une
majuscule dans le texte d&rsquo;origine, le hash produit sera totalement différent.</p></li><li><p>Irréversibilité (Hachage cryptographique) : Il est impossible de retrouver la
donnée d&rsquo;origine à partir du hash. C&rsquo;est un sens unique.</p></li><li><p>Résistance aux collisions : Il est extrêmement improbable que deux entrées
différentes produisent le même hash.</p></li></ul><p>Le premier critère implique qu&rsquo;en dépit des apparences, un hash n&rsquo;est <strong>pas</strong> un
nombre aléatoire, il est important de le réaliser. Le dernier critère implique
que l&rsquo;<em>image</em> de la fonction (l&rsquo;ensemble de ses valeurs possibles) doit être
extrêmement grand (car s&rsquo;il ne l&rsquo;était pas, les collisions seraient fréquentes).
La fonction de hachage <a href=https://fr.wikipedia.org/wiki/SHA-1>SHA-1</a>, utilisée
couramment par git, produit par exemple des valeurs de 160 bits, ce qui
correspond à $2^{160}$ valeurs possibles, ce qui est un nombre vraiment très
grand, mais tout de même plus petit que ceux produits par la fonction
<a href=https://fr.wikipedia.org/wiki/SHA-2>SHA-256</a>, aussi utilisée par les versions
plus modernes de git, et dont la taille de l&rsquo;image se rapproche du nombre estimé
d&rsquo;atomes dans l&rsquo;univers (environ $2^{266}$, ou $10^{80}$).</p><p>Il est important de comprendre que le but d&rsquo;une fonction de hachage, dans le
contexte de git, est de calculer un nombre unique, à partir d&rsquo;un &ldquo;objet&rdquo;. Cet
&ldquo;objet&rdquo; (au sens digital) peut être de plusieurs natures :</p><ol><li>Une chaîne de caractères</li><li>Un fichier (ou document)</li><li>Un groupe de plusieurs fichiers</li><li>Une arborescence (récursive) de fichiers</li><li>Etc.</li></ol><p>Chacun de ces objets peut être considéré comme étant un nombre, avec les
conversions nécessaires. C&rsquo;est ici qu&rsquo;entrent en jeu les qualités particulières
que nous avons énumérées ci-haut : pour un objet donné (un fichier par
exemple), la valeur de hash doit être unique (résistance aux collisions), et
toujours la même, sans exception (déterminisme). Si on ne change ne serait-ce
qu&rsquo;un bit d&rsquo;un fichier, la valeur <em>doit</em> changer (effet d&rsquo;avalanche).
L&rsquo;implémentation de cette fonction (dans un langage comme Python, avec la
librairie <a href=https://docs.python.org/3/library/hashlib.html>hashlib</a> par exemple
doit être suffisamment rapide, parce que git l&rsquo;utilisera extrêmement souvent,
étant donné qu&rsquo;il s&rsquo;agit d&rsquo;une de ses opérations fondamentales.</p><details><summary>Implémentation de SHA-256 en Python pur (sans la libraire <code>hashlib</code>), pour les curieux</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Implémentation pédagogique de SHA-256 en Python pur (sans hashlib)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>rotation_droite</span>(valeur, decalage):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Rotation circulaire à droite sur 32 bits
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> ((valeur <span style=color:#f92672>&gt;&gt;</span> decalage) <span style=color:#f92672>|</span> (valeur <span style=color:#f92672>&lt;&lt;</span> (<span style=color:#ae81ff>32</span> <span style=color:#f92672>-</span> decalage))) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sha256</span>(message: bytes) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Calcule le hash SHA-256 d&#39;un message (bytes)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    et retourne une chaîne hexadécimale
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Valeurs initiales du hash</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># (32 premiers bits des parties fractionnaires</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># des racines carrées des 8 premiers nombres premiers)</span>
</span></span><span style=display:flex><span>    H <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x6a09e667</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xbb67ae85</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x3c6ef372</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xa54ff53a</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x510e527f</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x9b05688c</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x1f83d9ab</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x5be0cd19</span>,
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Constantes de ronde</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># (32 premiers bits des parties fractionnaires</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># des racines cubiques des 64 premiers nombres premiers)</span>
</span></span><span style=display:flex><span>    K <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x428a2f98</span>, <span style=color:#ae81ff>0x71374491</span>, <span style=color:#ae81ff>0xb5c0fbcf</span>, <span style=color:#ae81ff>0xe9b5dba5</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x3956c25b</span>, <span style=color:#ae81ff>0x59f111f1</span>, <span style=color:#ae81ff>0x923f82a4</span>, <span style=color:#ae81ff>0xab1c5ed5</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xd807aa98</span>, <span style=color:#ae81ff>0x12835b01</span>, <span style=color:#ae81ff>0x243185be</span>, <span style=color:#ae81ff>0x550c7dc3</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x72be5d74</span>, <span style=color:#ae81ff>0x80deb1fe</span>, <span style=color:#ae81ff>0x9bdc06a7</span>, <span style=color:#ae81ff>0xc19bf174</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xe49b69c1</span>, <span style=color:#ae81ff>0xefbe4786</span>, <span style=color:#ae81ff>0x0fc19dc6</span>, <span style=color:#ae81ff>0x240ca1cc</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x2de92c6f</span>, <span style=color:#ae81ff>0x4a7484aa</span>, <span style=color:#ae81ff>0x5cb0a9dc</span>, <span style=color:#ae81ff>0x76f988da</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x983e5152</span>, <span style=color:#ae81ff>0xa831c66d</span>, <span style=color:#ae81ff>0xb00327c8</span>, <span style=color:#ae81ff>0xbf597fc7</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xc6e00bf3</span>, <span style=color:#ae81ff>0xd5a79147</span>, <span style=color:#ae81ff>0x06ca6351</span>, <span style=color:#ae81ff>0x14292967</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x27b70a85</span>, <span style=color:#ae81ff>0x2e1b2138</span>, <span style=color:#ae81ff>0x4d2c6dfc</span>, <span style=color:#ae81ff>0x53380d13</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x650a7354</span>, <span style=color:#ae81ff>0x766a0abb</span>, <span style=color:#ae81ff>0x81c2c92e</span>, <span style=color:#ae81ff>0x92722c85</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xa2bfe8a1</span>, <span style=color:#ae81ff>0xa81a664b</span>, <span style=color:#ae81ff>0xc24b8b70</span>, <span style=color:#ae81ff>0xc76c51a3</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0xd192e819</span>, <span style=color:#ae81ff>0xd6990624</span>, <span style=color:#ae81ff>0xf40e3585</span>, <span style=color:#ae81ff>0x106aa070</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x19a4c116</span>, <span style=color:#ae81ff>0x1e376c08</span>, <span style=color:#ae81ff>0x2748774c</span>, <span style=color:#ae81ff>0x34b0bcb5</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x391c0cb3</span>, <span style=color:#ae81ff>0x4ed8aa4a</span>, <span style=color:#ae81ff>0x5b9cca4f</span>, <span style=color:#ae81ff>0x682e6ff3</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x748f82ee</span>, <span style=color:#ae81ff>0x78a5636f</span>, <span style=color:#ae81ff>0x84c87814</span>, <span style=color:#ae81ff>0x8cc70208</span>,
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x90befffa</span>, <span style=color:#ae81ff>0xa4506ceb</span>, <span style=color:#ae81ff>0xbef9a3f7</span>, <span style=color:#ae81ff>0xc67178f2</span>,
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># --- Prétraitement (padding) ---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    longueur_originale <span style=color:#f92672>=</span> len(message) <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span>  <span style=color:#75715e># en bits</span>
</span></span><span style=display:flex><span>    message <span style=color:#f92672>+=</span> <span style=color:#e6db74>b</span><span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\x80</span><span style=color:#e6db74>&#39;</span>  <span style=color:#75715e># ajout du bit 1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Ajout de zéros jusqu&#39;à atteindre 448 bits modulo 512</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (len(message) <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>512</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>448</span>:
</span></span><span style=display:flex><span>        message <span style=color:#f92672>+=</span> <span style=color:#e6db74>b</span><span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\x00</span><span style=color:#e6db74>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Ajout de la longueur originale sur 64 bits</span>
</span></span><span style=display:flex><span>    message <span style=color:#f92672>+=</span> longueur_originale<span style=color:#f92672>.</span>to_bytes(<span style=color:#ae81ff>8</span>, <span style=color:#e6db74>&#39;big&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># --- Traitement par blocs de 512 bits ---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> debut_bloc <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>0</span>, len(message), <span style=color:#ae81ff>64</span>):
</span></span><span style=display:flex><span>        bloc <span style=color:#f92672>=</span> message[debut_bloc:debut_bloc <span style=color:#f92672>+</span> <span style=color:#ae81ff>64</span>]
</span></span><span style=display:flex><span>        W <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>64</span>  <span style=color:#75715e># planification du message</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Les 16 premiers mots proviennent directement du bloc</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>16</span>):
</span></span><span style=display:flex><span>            W[i] <span style=color:#f92672>=</span> int<span style=color:#f92672>.</span>from_bytes(bloc[i<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>:(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>], <span style=color:#e6db74>&#39;big&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Extension des 16 mots en 64</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>64</span>):
</span></span><span style=display:flex><span>            s0 <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>                rotation_droite(W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>15</span>], <span style=color:#ae81ff>7</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>15</span>], <span style=color:#ae81ff>18</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> (W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>15</span>] <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            s1 <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>                rotation_droite(W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>], <span style=color:#ae81ff>17</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>], <span style=color:#ae81ff>19</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> (W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>] <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            W[i] <span style=color:#f92672>=</span> (W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>16</span>] <span style=color:#f92672>+</span> s0 <span style=color:#f92672>+</span> W[i<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>] <span style=color:#f92672>+</span> s1) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Initialisation des registres de travail</span>
</span></span><span style=display:flex><span>        a, b, c, d, e, f, g, h <span style=color:#f92672>=</span> H
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># --- Boucle principale de compression ---</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>64</span>):
</span></span><span style=display:flex><span>            S1 <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>                rotation_droite(e, <span style=color:#ae81ff>6</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(e, <span style=color:#ae81ff>11</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(e, <span style=color:#ae81ff>25</span>)
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            choix <span style=color:#f92672>=</span> (e <span style=color:#f92672>&amp;</span> f) <span style=color:#f92672>^</span> (<span style=color:#f92672>~</span>e <span style=color:#f92672>&amp;</span> g)
</span></span><span style=display:flex><span>            temp1 <span style=color:#f92672>=</span> (h <span style=color:#f92672>+</span> S1 <span style=color:#f92672>+</span> choix <span style=color:#f92672>+</span> K[i] <span style=color:#f92672>+</span> W[i]) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            S0 <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>                rotation_droite(a, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(a, <span style=color:#ae81ff>13</span>)
</span></span><span style=display:flex><span>                <span style=color:#f92672>^</span> rotation_droite(a, <span style=color:#ae81ff>22</span>)
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            majorite <span style=color:#f92672>=</span> (a <span style=color:#f92672>&amp;</span> b) <span style=color:#f92672>^</span> (a <span style=color:#f92672>&amp;</span> c) <span style=color:#f92672>^</span> (b <span style=color:#f92672>&amp;</span> c)
</span></span><span style=display:flex><span>            temp2 <span style=color:#f92672>=</span> (S0 <span style=color:#f92672>+</span> majorite) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            h <span style=color:#f92672>=</span> g
</span></span><span style=display:flex><span>            g <span style=color:#f92672>=</span> f
</span></span><span style=display:flex><span>            f <span style=color:#f92672>=</span> e
</span></span><span style=display:flex><span>            e <span style=color:#f92672>=</span> (d <span style=color:#f92672>+</span> temp1) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>            d <span style=color:#f92672>=</span> c
</span></span><span style=display:flex><span>            c <span style=color:#f92672>=</span> b
</span></span><span style=display:flex><span>            b <span style=color:#f92672>=</span> a
</span></span><span style=display:flex><span>            a <span style=color:#f92672>=</span> (temp1 <span style=color:#f92672>+</span> temp2) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Ajout du résultat du bloc au hash courant</span>
</span></span><span style=display:flex><span>        H <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            (x <span style=color:#f92672>+</span> y) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xFFFFFFFF</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> x, y <span style=color:#f92672>in</span> zip(H, [a, b, c, d, e, f, g, h])
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Conversion finale en hexadécimal</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#f92672>.</span>join(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>{</span>valeur<span style=color:#e6db74>:</span><span style=color:#e6db74>08x</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span> <span style=color:#66d9ef>for</span> valeur <span style=color:#f92672>in</span> H)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Exemple d&#39;utilisation</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    print(sha256(<span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;hello world&#34;</span>))</span></span></code></pre></div></div></details><p>Une valeur de hash particulière pourrait être par exemple :</p><p><code>2123f2435e1dbe255a323c90e97e38f759fe8946</code></p><p>ce qui correspond à un nombre hexadécimal (en base 16 donc, qui s&rsquo;exprime avec
les dix chiffres 0 à 10, ainsi que les 6 premières lettres de l&rsquo;alphabet, de <code>a</code>
à <code>f</code>) de 40 &ldquo;chiffres&rdquo;. Chaque caractère hexadécimal de cette chaîne étant
équivalent à 4 bits, nous avons donc un nombre de $40 \times 4 = 160$ bits, qui
permet d&rsquo;exprimer donc $2^{160}$ valeurs possibles.</p><p>Faites-vous une idée concrète du fonctionnement d&rsquo;une fonction de hachage à
l&rsquo;aide de cette applet interactive :</p><div class=applet-wrapper style=width:100%><iframe src=https://cjauvin.github.io/inf1410-teluq/html/applets/hashing.html id=applet-1769798566719964434 class=applet-iframe width=100% loading=lazy data-iresize=true data-transform-scale=1.0></iframe></div><p>Finalement, une manière de comprendre le rôle que peut jouer une fonction de
hachage est en tant qu&rsquo;une sorte de &ldquo;signature&rdquo; : une signature <em>représente</em> une
personne ou un document de manière unique, sans aucune ambiguïté possible. Il
est également possible de se représenter un hash en tant que <em>pointeur</em> vers
quelque chose, ce qui est la métaphore utilisée par git, comme nous le verrons
concrètement.</p><blockquote class='book-hint note'><p>La notion de hachage est utilisée de manière centrale par git, mais il s&rsquo;agit d&rsquo;une
notion fondamentale en informatique. Elle est particulièrement importante dans le monde
de la cryptographie, qui est la science de l&rsquo;échange et de la manipulation de &ldquo;secrets&rdquo;.
Elle joue également un rôle fondateur dans des domaines plus récents et émergents,
comme les cryptomonnaies (Bitcoin est l&rsquo;exemple le plus fameux) et de manière plus
générale, la notion de chaîne de blocs (blockchain en anglais).</p></blockquote><h3 id=les-fondements-de-git>Les fondements de git<a class=anchor href=#les-fondements-de-git>#</a></h3><p>Git est un outil pour la ligne de commande qui utilise un modèle de données
particulier pour représenter et manipuler le contenu et l&rsquo;évolution historique
de l&rsquo;ensemble de fichiers d&rsquo;un projet de développement logiciel. Nous allons
l&rsquo;étudier tout en l&rsquo;utilisant concrètement. Je vous recommande d&rsquo;entrer les
commandes qui vont suivre dans votre propre ligne de commande au moment de la
lecture, afin de rendre plus concrète les notions que nous verrons.</p><p>La première notion importante de git est celle de <em>dépôt</em> (repository en anglais), qui
correspond à un répertoire particulier, et qui constitue un projet au sens de git. Ce répertoire
peut déjà exister (et contenir des fichiers) ou être créé pour l&rsquo;occasion et donc être vide.
Nous allons donc tout d&rsquo;abord créer un nouveau répertoire :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ mkdir mon_premier_depot
</span></span><span style=display:flex><span>$ cd mon_premier_depot
</span></span><span style=display:flex><span>$ ls -al
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>2</span> cjauvin  staff    <span style=color:#ae81ff>64</span> Jan <span style=color:#ae81ff>13</span> 16:54 ./
</span></span><span style=display:flex><span>drwxr-x---+ <span style=color:#ae81ff>75</span> cjauvin  staff  <span style=color:#ae81ff>2400</span> Jan <span style=color:#ae81ff>13</span> 16:54 ../</span></span></code></pre></div><p>Notre répertoire n&rsquo;est pas encore un dépôt git, mais avec cette commande il le devient :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git init
</span></span><span style=display:flex><span>Initialized empty Git repository in /Users/cjauvin/mon_premier_depot/.git/</span></span></code></pre></div><p>On peut constater que git a ajouté un sous-répertoire spécial dans notre répertoire :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ ls -al
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>3</span> cjauvin  staff    <span style=color:#ae81ff>96</span> Jan <span style=color:#ae81ff>13</span> 16:58 ./
</span></span><span style=display:flex><span>drwxr-x---+ <span style=color:#ae81ff>75</span> cjauvin  staff  <span style=color:#ae81ff>2400</span> Jan <span style=color:#ae81ff>13</span> 16:54 ../
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>9</span> cjauvin  staff   <span style=color:#ae81ff>288</span> Jan <span style=color:#ae81ff>13</span> 17:10 .git/</span></span></code></pre></div><p>Ce répertoire contient toutes les données dont git aura besoin pour gérer notre
dépôt. On peut le voir comme une sorte de base de données aussi, qui est pour le
moment vide :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ ls -al .git
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>24</span>
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>9</span> cjauvin  staff  <span style=color:#ae81ff>288</span> Jan <span style=color:#ae81ff>13</span> 17:10 ./
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>3</span> cjauvin  staff   <span style=color:#ae81ff>96</span> Jan <span style=color:#ae81ff>13</span> 16:58 ../
</span></span><span style=display:flex><span>-rw-r--r--@  <span style=color:#ae81ff>1</span> cjauvin  staff  <span style=color:#ae81ff>137</span> Jan <span style=color:#ae81ff>13</span> 16:58 config
</span></span><span style=display:flex><span>-rw-r--r--@  <span style=color:#ae81ff>1</span> cjauvin  staff   <span style=color:#ae81ff>73</span> Jan <span style=color:#ae81ff>13</span> 16:58 description
</span></span><span style=display:flex><span>-rw-r--r--@  <span style=color:#ae81ff>1</span> cjauvin  staff   <span style=color:#ae81ff>21</span> Jan <span style=color:#ae81ff>13</span> 16:58 HEAD
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>16</span> cjauvin  staff  <span style=color:#ae81ff>512</span> Jan <span style=color:#ae81ff>13</span> 16:58 hooks/
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>3</span> cjauvin  staff   <span style=color:#ae81ff>96</span> Jan <span style=color:#ae81ff>13</span> 16:58 info/
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>4</span> cjauvin  staff  <span style=color:#ae81ff>128</span> Jan <span style=color:#ae81ff>13</span> 16:58 objects/
</span></span><span style=display:flex><span>drwxr-xr-x@  <span style=color:#ae81ff>4</span> cjauvin  staff  <span style=color:#ae81ff>128</span> Jan <span style=color:#ae81ff>13</span> 16:58 refs/</span></span></code></pre></div><p>Commençons notre exploration en créant tout d&rsquo;abord un premier fichier :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;allo!&#34;</span> &gt;&gt; toto.txt</span></span></code></pre></div><p>À ce stade, l&rsquo;état du fichier est &ldquo;untracked&rdquo;, c&rsquo;est-à-dire qu&rsquo;il ne fait pas partie
du dépôt (même si git a tout de même remarqué sa présence) :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>No commits yet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Untracked files:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        toto.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nothing added to commit but untracked files present <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add&#34;</span> to track<span style=color:#f92672>)</span></span></span></code></pre></div><p>On peut ajouter le fichier dans le &ldquo;staging area&rdquo; de git, qui constitue une sorte d&rsquo;espace de travail
temporaire, qui sert à accumuler les changement que nous voudrons &ldquo;committer&rdquo; plus tard :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git add toto.txt</span></span></code></pre></div><p>Une fois le fichier ajouté, la même commande permet de constater le changement d&rsquo;état. Pour
le moment, le nouveau fichier est dans le staging area, prêt à être committé :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>No commits yet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Changes to be committed:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git rm --cached &lt;file&gt;...&#34;</span> to unstage<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        new file:   toto.txt</span></span></code></pre></div><p>On est maintenant prêt à faire notre premier commit, qui est simplement l&rsquo;ajout
officiel de ce fichier dans la base de données git :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Premier commit&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main <span style=color:#f92672>(</span>root-commit<span style=color:#f92672>)</span> 1359fb1<span style=color:#f92672>]</span> Premier commit
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> toto.txt</span></span></code></pre></div><p>Une fois ce premier commit effectué, notre dépôt git est démarré en bonne et due
forme, et on peut commencer à l&rsquo;inspecter en profondeur pour en comprendre le
fonctionnement et le modèle de données. Il est important de savoir que les
commandes qui vont suivre sont très rarement utilisées dans l&rsquo;usage quotidien de
git (pratiquement jamais en fait). On s&rsquo;en sert ici simplement en tant qu&rsquo;outils
pédagogiques.</p><h4 id=premier-type-dobjet-fondamental-git--le-blob>Premier type d&rsquo;objet fondamental git : le blob<a class=anchor href=#premier-type-dobjet-fondamental-git--le-blob>#</a></h4><p>Le modèle de données de Git est constitué de quatre types fondamentaux d&rsquo;objets.
Le premier type est le <em>blob</em>, qui correspond aux données données binaires
compressées d&rsquo;un fichier donné (ici <code>toto.txt</code>) :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git ls-tree -r HEAD
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 4c7d057645ac149446d1289aaa6f9fd74e91ce13    toto.txt</span></span></code></pre></div><p>Notre premier blob a donc comme identifiant le hash
<code>4c7d057645ac149446d1289aaa6f9fd74e91ce13</code>. Voici comment git calcule le hash du
blob, à partir du fichier original qu&rsquo;on a ajouté :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git hash-object toto.txt
</span></span><span style=display:flex><span>4c7d057645ac149446d1289aaa6f9fd74e91ce13</span></span></code></pre></div><p>Cette valeur particulière devrait être la même pour vous, dans votre
environnement, car elle n&rsquo;est pas une valeur aléatoire, elle est entièrement
déterministe. La seule chose qui pourrait changer la donne serait que votre git
soit configuré pour utiliser une autre fonction de hachage que <code>SHA1</code>, ce qui
est possible.</p><p>Si on entre la valeur <code>allo!</code> dans l&rsquo;applet interactif ci-haut, on n&rsquo;obtient pas
cette valeur particulière de hash pourtant (essayez-le, avec la fonction
<code>SHA1</code>).. pourquoi donc? Parce que git hache en fait un peu plus que simplement
le contenu du fichier : il hache la valeur <code>blob &lt;taille>\0&lt;contenu></code>, où
<code>&lt;contenu></code> correspond dans notre cas à <code>allo!\n</code> (le <code>\n</code> est un caractère
spécial pour le retour de chariat, newline en anglais) et la <code>&lt;taille></code>, en
nombre de caractères, est donc 6. Donc si on entre la valeur <code>blob 6\0allo!\n</code>
dans l&rsquo;applet, le même hash que celui calculé par git devrait apparaître.</p><p>Ce blob est en fait un fichier, qui est sauvegardé dans la base de données
spéciale de git (dans le répertoire caché <code>.git</code>). Le chemin vers ce fichier (de
blob) est créé à partir du hash, qui est séparé en deux parties (la première
correspondant à son suffixe de deux lettres) :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ ll .git/objects/
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 4c/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 9e/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 cf/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 info/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 pack/
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ ll .git/objects/4c
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>-r--r--r--@ <span style=color:#ae81ff>1</span> cjauvin  staff    21B Jan <span style=color:#ae81ff>15</span> 12:16 7d057645ac149446d1289aaa6f9fd74e91ce13</span></span></code></pre></div><p>Contrairement à <code>toto.txt</code>, qui contient du texte, le blob n&rsquo;est pas lisible,
car il est constitué de données binaires compressées :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>cat .git/objects/4c/7d057645ac149446d1289aaa6f9fd74e91ce13
</span></span><span style=display:flex><span>xK��OR0cH���W�+�⏎</span></span></code></pre></div><label class=book-image for=book-image-toggle-2><input class="hidden toggle" type=checkbox id=book-image-toggle-2>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-blob.png alt="Un blob git" loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-2"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Essayons maintenant de modifier notre fichier texte en y ajoutant une ligne :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;bonjour&#34;</span> &gt;&gt; toto.txt
</span></span><span style=display:flex><span>$ cat toto.txt
</span></span><span style=display:flex><span>allo!
</span></span><span style=display:flex><span>bonjour</span></span></code></pre></div><p>Et vérifions l&rsquo;effet sur git avec la commande <code>git status</code> :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Changes not staged <span style=color:#66d9ef>for</span> commit:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git restore &lt;file&gt;...&#34;</span> to discard changes in working directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        modified:   toto.txt
</span></span><span style=display:flex><span>no changes added to commit <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add&#34;</span> and/or <span style=color:#e6db74>&#34;git commit -a&#34;</span><span style=color:#f92672>)</span></span></span></code></pre></div><p>Pour voir le changement précis que git détecte on peut utiliser <code>git diff</code> :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git diff
</span></span><span style=display:flex><span>diff --git a/toto.txt b/toto.txt
</span></span><span style=display:flex><span>index 4c7d057..48bed0c <span style=color:#ae81ff>100644</span>
</span></span><span style=display:flex><span>--- a/toto.txt
</span></span><span style=display:flex><span>+++ b/toto.txt
</span></span><span style=display:flex><span>@@ -1 +1,2 @@
</span></span><span style=display:flex><span> allo!
</span></span><span style=display:flex><span>+bonjour</span></span></code></pre></div><p>Que se passerait-il si on tentait de committer notre changement à ce point?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Dexuième commit&#34;</span>
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Changes not staged <span style=color:#66d9ef>for</span> commit:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git restore &lt;file&gt;...&#34;</span> to discard changes in working directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        modified:   toto.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>no changes added to commit <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add&#34;</span> and/or <span style=color:#e6db74>&#34;git commit -a&#34;</span><span style=color:#f92672>)</span></span></span></code></pre></div><p>Il n&rsquo;y a rien (encore) à committer, car le changement n&rsquo;a pas été ajouté
dans le staging area avec la commande <code>git add</code>, dont on peut tout de suite
voir l&rsquo;effet avec <code>git status</code> :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git add toto.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Changes to be committed:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        modified:   toto.txt</span></span></code></pre></div><p>Voici le modèle mental qu&rsquo;il faut préférablement avoir des trois &ldquo;endroits&rdquo;
importants qui sont impliqués dans le pipeline de création d&rsquo;un commit :</p><label class=book-image for=book-image-toggle-3><input class="hidden toggle" type=checkbox id=book-image-toggle-3>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-3-places.png alt="Un blob git" loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-3"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Nous sommes maintenant prêt pour le deuxième commit :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Deuxième commit&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main 34c85ab<span style=color:#f92672>]</span> Deuxième commit
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>nothing to commit, working tree clean</span></span></code></pre></div><p>Examinons ce qui s&rsquo;est passé au niveau des objets git :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>git ls-tree -r HEAD
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 48bed0c35d92c60539832929142859e3f5ae6eda    toto.txt</span></span></code></pre></div><p>On remarque que <code>toto.txt</code> est maintenant associé à ce qui semble être un blob
différent, car le hash est différent (<code>48bed0c35d92c60539832929142859e3f5ae6eda</code>
alors qu&rsquo;on avait <code>4c7d057645ac149446d1289aaa6f9fd74e91ce13</code> avant). Que
s&rsquo;est-il passé? Un nouveau blob a été créé, correspondant à la nouvelle version
du fichier. Si on regarde la liste des objets, on peut voir notre nouveau blob
et son contenu :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ ll .git/objects/
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:57 34/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:53 38/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:39 48/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 4c/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:53 88/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 9e/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 cf/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 info/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 pack/
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ cat .git/objects/48/bed0c35d92c60539832929142859e3f5ae6eda
</span></span><span style=display:flex><span>xK��OR04aH���W�J����/-�O⏎</span></span></code></pre></div><label class=book-image for=book-image-toggle-4><input class="hidden toggle" type=checkbox id=book-image-toggle-4>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-2-blobs.png alt="Un blob git" loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-4"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Mais ce qu&rsquo;il est fondamental de remarquer et de comprendre, c&rsquo;est que notre
blob précédent (<code>4c7d057645ac149446d1289aaa6f9fd74e91ce13</code>) est toujours là, il
n&rsquo;a pas disparu ! Ceci veut donc dire que tous les stages de transformation d&rsquo;un
fichier sont sauvegardés <strong>en tant que fichiers complets et indépendants</strong>. Git
ne gère donc pas les &ldquo;différences&rdquo; entre les fichiers, mais conserve plutôt
l&rsquo;état complet de chaque version (en anglais on parle souvent de &ldquo;snapshot&rdquo;,
soit l&rsquo;état précis d&rsquo;un fichier à un certain point dans une chaîne de
changements), de manière à pouvoir &ldquo;calculer&rdquo; la différence, au moment où c&rsquo;est
nécessaire. Est-ce que ceci n’entraîne pas un coût supplémentaire par contre, en
terme d&rsquo;espace disque? Si on a un fichier de 100 lignes et qu&rsquo;on fait 10 commits
qui ajoutent chacun 1 ligne, nous aurons au final 10 blobs de plus de 100 lignes
(un de 100, un de 101, etc). Il serait plus compact de ne sauvegarder que les
différences successives. Pourtant, git choisit de fonctionner avec des
snapshots, parce que ça lui permet d&rsquo;opérer de manière plus rapide et efficace,
il s&rsquo;agit d&rsquo;un compromis. Les comparaisons et la navigation entre les versions
d&rsquo;un fichier sont donc, avec git, particulièrement efficaces, ce qui a
certainement joué un rôle dans son adoption généralisée spectaculaire. Il faut
mentionner également qu&rsquo;il y a un niveau plus &ldquo;bas&rdquo; que les blobs, les
<em>packfiles</em>, où le contenu des blobs est compressé efficacement (et donc la
redondance éliminée), mais comme ce niveau est plus complexe et moins facile
d&rsquo;accès, il ne fera donc pas partie de notre analyse.</p><p>Le fait d&rsquo;avoir un mécanisme comme la fonction de hachage permet à git de
rapidement répondre à la question : est-ce qu&rsquo;un fichier a changé ou non? Si le
hash d&rsquo;un fichier est identique aujourd&rsquo;hui à ce qu&rsquo;il était hier, nous avons la
certitude, par définition, que le fichier n&rsquo;a pas changé. Car le moindre
changement (ne serait-ce que l&rsquo;ajout dune virgule) produit une valeur de hash
complètement différente. Par contre, cette différence, au niveau des valeurs du
hash, ne disent rien au sujet de ce qui a changé ! Elle dit SEULEMENT que
quelque chose a changé. Si git veut savoir exactement ce qui a changé (pour par
exemple le fournir à l&rsquo;utilisateur de la commande <code>git diff</code>), il doit le
calculer en temps réel, au moment du besoin. On pourrait penser que ceci est
coûteux et inefficaces, mais dans les faits ça ne l&rsquo;est pas, car un algorithme
pour déterminer la différence entre deux fichiers textes peut être exécuté très
rapidement. Le modèle de donnés de git est entièrement conçu de manière à
optimiser les cas s&rsquo;usage les plus courants.</p><p>Poursuivons notre analyse du modèle de données de git en nous demandant ensuite :
qu&rsquo;est-ce qu&rsquo;un commit, au juste? Jusqu&rsquo;à maintenant, nous avons créé deux commits,
en séquence :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit 34c85abbbbee1c21c34da2b5ed126cb888fcb498 <span style=color:#f92672>(</span>HEAD -&gt; main<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 14:57:15 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Deuxième commit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 9e6072c8df904f021474a6173cc1b17b2908c0f1
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 12:16:21 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Premier commit</span></span></code></pre></div><p>Le premier commit est associé au hash <code>9e6072c8df904f021474a6173cc1b17b2908c0f1</code>.
On peut utiliser <code>git cat-file</code> pour décrire le contenu de ce commit :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p 9e6072c8df904f021474a6173cc1b17b2908c0f1
</span></span><span style=display:flex><span>tree cff192ac57ced2fea4977bcf9dcc6c3590af9cbd
</span></span><span style=display:flex><span>author Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768497381</span> -0500
</span></span><span style=display:flex><span>committer Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768497381</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Premier commit</span></span></code></pre></div><h4 id=deuxième-type-dobjet-git-fondamental--le-tree>Deuxième type d&rsquo;objet git fondamental : le tree<a class=anchor href=#deuxi%c3%a8me-type-dobjet-git-fondamental--le-tree>#</a></h4><p>On voit que le commit contient un &ldquo;tree&rdquo; (un arbre), qui est le deuxième type
fondamental d&rsquo;objet dans le modèle de données de git que nous voyons, après le
blob. Si un blob est un fichier, alors le tree est un répertoire (une
arborescence récursive de fichiers). Si on inspecte notre tree avec <code>git cat-file</code>,
on constate qu&rsquo;il ne contient qu&rsquo;un seul blob, celui qui correspond à notre fichier <code>toto.txt</code> :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p cff192ac57ced2fea4977bcf9dcc6c3590af9cbd
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 4c7d057645ac149446d1289aaa6f9fd74e91ce13    toto.txt</span></span></code></pre></div><p>Pour se faire une meilleure idée du fonctionnement des trees, complexifions un peu
la structure de notre projet en ajoutant des fichiers et des répertoires :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ mkdir src
</span></span><span style=display:flex><span>$ touch src/app.js
</span></span><span style=display:flex><span>$ mkdir src/components
</span></span><span style=display:flex><span>$ touch src/components/menu.js</span></span></code></pre></div><p>La commande <code>git add</code> effectuée sur un répertoire ajoute récursivement au
staging area tous les fichiers se trouvant à n&rsquo;importe quel niveau sous le
répertoire, d&rsquo;un coup :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git add src
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Changes to be committed:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        new file:   src/app.js
</span></span><span style=display:flex><span>        new file:   src/components/menu.js</span></span></code></pre></div><p>On peut maintenant faire notre troisième commit :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Troisième commit&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main 2e6fdee<span style=color:#f92672>]</span> Troisième commit
</span></span><span style=display:flex><span> <span style=color:#ae81ff>2</span> files changed, <span style=color:#ae81ff>0</span> insertions<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>, <span style=color:#ae81ff>0</span> deletions<span style=color:#f92672>(</span>-<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> src/app.js
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> src/components/menu.js</span></span></code></pre></div><p>On peut récupérer le hash de notre troisième et dernier commit en faisant :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git log -1
</span></span><span style=display:flex><span>commit 2e6fdee379fbe0d258b2d5f04e7cdd0b4d5cbccb <span style=color:#f92672>(</span>HEAD -&gt; main<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 19:05:29 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Troisième commit</span></span></code></pre></div><p>Inspectons tout d&rsquo;abord ce commit :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p 2e6fdee379fbe0d258b2d5f04e7cdd0b4d5cbccb
</span></span><span style=display:flex><span>tree fb1722eff4b73668ddec99b3452d692b1e4aa9ba
</span></span><span style=display:flex><span>parent 34c85abbbbee1c21c34da2b5ed126cb888fcb498
</span></span><span style=display:flex><span>author Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768521929</span> -0500
</span></span><span style=display:flex><span>committer Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768521929</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Troisième commit</span></span></code></pre></div><p>Inspectons ensuite son tree (dont le hash est spécifié à la première ligne) :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git ls-tree -r -t fb1722eff4b73668ddec99b3452d692b1e4aa9ba
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree 6edfc5b49bc2a7de3402cd734abfee5c4a0c42bd    src
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    src/app.js
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree e0408d67c1864db2c5bfae47d89933d6c714b810    src/components
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    src/components/menu.js
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 48bed0c35d92c60539832929142859e3f5ae6eda    toto.txt</span></span></code></pre></div><p>On constate la nature récursive du tree, qui est lui-même composé de blobs et de
sous-trees.</p><p>Il faut comprendre que les trees sont des &ldquo;objets&rdquo; git au même sens que les blobs
(seulement d&rsquo;un type différent), et qu&rsquo;ils sont stockés sous la forme de fichiers
binaires, au même endroit que les blobs :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ ll .git/objects/
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 19:05 2e/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:57 34/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:53 38/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:40 3d/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 14:39 48/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 4c/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:40 4d/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:40 69/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 19:05 6e/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:37 76/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:37 82/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>4</span> cjauvin  staff   128B Jan <span style=color:#ae81ff>16</span> 15:37 88/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 9e/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:37 c7/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 12:16 cf/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 19:05 e0/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 19:02 e6/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>16</span> 15:37 e7/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>3</span> cjauvin  staff    96B Jan <span style=color:#ae81ff>15</span> 19:05 fb/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 info/
</span></span><span style=display:flex><span>drwxr-xr-x@ <span style=color:#ae81ff>2</span> cjauvin  staff    64B Jan <span style=color:#ae81ff>15</span> 12:16 pack/</span></span></code></pre></div><p>Les objets git sont organisés sur le disque en fonction du préfixe de deux
chiffres de leur hash.</p><blockquote class='book-hint note'><p>Le diagramme qui suit introduit une idée importante à comprendre avec git : si
cela n&rsquo;introduit pas d’ambiguïté, on peut référer à un hash (qui est une valeur
très longue et difficile à lire ou manipuler) avec seulement son préfixe, soit
une valeur plus courte. On peut ainsi faire référence à
<code>fb1722eff4b73668ddec99b3452d692b1e4aa9ba</code> avec son préfixe plus court des 6
premiers chiffres, soit <code>fb1722</code>, car il n&rsquo;y a aucun autre objet, dans notre
dépôt git, qui a ce même préfixe (si c&rsquo;était le cas, git produirait un message
d&rsquo;erreur pour s&rsquo;en plaindre). Ce préfixe peut être d&rsquo;une longueur autre que 6,
mais on préfère en général une longueur qui maximise la lisibilité, selon le
contexte. Il est à noter que ce système de préfixe simplifié fonctionne
également avec tous les outils git de la ligne de commande.</p></blockquote><label class=book-image for=book-image-toggle-5><input class="hidden toggle" type=checkbox id=book-image-toggle-5>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-tree.png alt="Une arborescence git" loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-5"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>La notion d&rsquo;arbre git permet d&rsquo;introduire une notion importante, fondamentale à
git : <a href=https://fr.wikipedia.org/wiki/Arbre_de_Merkle>l&rsquo;arbre de Merkle</a>. Un
arbre de Merkle est un type d&rsquo;arbre particulier où chaque noeud a un hash qui
est <em>fonction de</em> (qui inclut, ou prend en considération, donc) tout ce qui est
&ldquo;dessous&rdquo;. Si on change un élément de l&rsquo;arbre (un blob par exemple) alors
l&rsquo;effet est que les hash de tous les éléments &ldquo;au-dessus&rdquo; (les ancêtres) vont
devoir changer aussi (car leur valeur dépend de tout ce qu&rsquo;ils ont sous eux).
Examinons un exemple concret pour s&rsquo;en convaincre, modifions tout d&rsquo;abord un
fichier au milieu de notre arborescence. Profitons-en pour apprendre que l&rsquo;ajout
de <code>-a</code> à la commande <code>git commit</code> (en plus de <code>-m</code> qu&rsquo;on avait déjà, pour faire
donc <code>-am</code>) permet de sauter l&rsquo;étape d&rsquo;ajouter le changement au staging area
(<code>git add</code>) quand on veut aller un peu plus rapidement :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;alert(&#39;allo!&#39;)&#34;</span> &gt;&gt; src/app.js
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git commit -am <span style=color:#e6db74>&#34;Quatrième commit&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main 3dd71fb<span style=color:#f92672>]</span> Quatrième commit
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span></span></span></code></pre></div><blockquote class='book-hint note'><p>Il est intéressant de noter en passant que l&rsquo;arbre de Merkle est la
structure de données qui est au coeur de la cryptomonnaie (comme Bitcoin) et de
la chaîne de blocs (blockchain). Git et les cryptomonnaies constituent donc deux
exemples fameux et extrêmement influents de cette technologie particulière.</p></blockquote><p>Notons tout d&rsquo;abord le hash du commit qu&rsquo;on vient de produire :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git log -1
</span></span><span style=display:flex><span>commit 3dd71fb4950c1be35ec335cd0ac40f3b5807303b <span style=color:#f92672>(</span>HEAD -&gt; main<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Fri Jan <span style=color:#ae81ff>16</span> 15:40:53 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Quatrième commit</span></span></code></pre></div><p>Examinons ensuite le commit et son tree, et notons qu&rsquo;on peut utiliser son préfixe court de 4 chiffres (<code>3dd7</code>) car il n&rsquo;est pas ambigu :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p 3dd7
</span></span><span style=display:flex><span>tree 6954fc566d4abe842409c9265ca5bb94044af1c4
</span></span><span style=display:flex><span>parent 2e6fdee379fbe0d258b2d5f04e7cdd0b4d5cbccb
</span></span><span style=display:flex><span>author Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768596053</span> -0500
</span></span><span style=display:flex><span>committer Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768596053</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Quatrième commit
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git ls-tree -r -t <span style=color:#ae81ff>6954</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree 4d74086f34491859490bd4a3695876e23798b8f0    src
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 76aa73d7349a507efaf3206cd21428d4452eae9e    src/app.js
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree e0408d67c1864db2c5bfae47d89933d6c714b810    src/components
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    src/components/menu.js
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 48bed0c35d92c60539832929142859e3f5ae6eda    toto.txt</span></span></code></pre></div><p>On peut constater le fait intéressant que seuls les arbres <code>6954fc</code> et <code>4d74086</code> ont changés,
parce qu&rsquo;ils sont les ancêtres du blob <code>76aa73</code>, que notre commit a changé. On constate
donc clairement qu&rsquo;un arbre git est un arbre de Merkle au sens classique.</p><label class=book-image for=book-image-toggle-6><input class="hidden toggle" type=checkbox id=book-image-toggle-6>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-tree2.png alt="Une arborescence git" loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-6"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><h4 id=troisième-type-dobjet-git-fondamental--le-commit>Troisième type d&rsquo;objet git fondamental : le commit<a class=anchor href=#troisi%c3%a8me-type-dobjet-git-fondamental--le-commit>#</a></h4><p>Tournons maintenant notre attention vers les commits, qui sont le troisième type
d&rsquo;objet git fondamental.</p><p>Chaque fois qu&rsquo;un commit est créé (avec la commande <code>git commit</code>), un nouvel
objet (de type commit) est ajouté à la base de données de git.</p><p>Examinons encore une fois notre commit le plus récent :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p 3dd7
</span></span><span style=display:flex><span>tree 6954fc566d4abe842409c9265ca5bb94044af1c4
</span></span><span style=display:flex><span>parent 2e6fdee379fbe0d258b2d5f04e7cdd0b4d5cbccb
</span></span><span style=display:flex><span>author Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768596053</span> -0500
</span></span><span style=display:flex><span>committer Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1768596053</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Quatrième commit</span></span></code></pre></div><p>Un commit a tout d&rsquo;abord un hash (comme tous les objets git) : <code>3dd71fb4950c1be35ec335cd0ac40f3b5807303b</code>,
ou encore <code>3dd7</code>, son préfixe équivalent, plus facile à manipuler. On constate ensuite que
le commit contient trois choses :</p><ol><li><p>Un pointeur (identifiant, sous la forme d&rsquo;un hash), <code>6954</code>, vers un arbre qui
représente (de manière récursive) les fichiers du dépôt dans un état
particulier, un moment dans le temps.</p></li><li><p>Un pointeur (c-à-d un hash) vers le commit <em>parent</em> (le commit qui a précédé
ce commit particulier, soit <code>2e6f</code>). Nous verrons qu&rsquo;il est possible pour un commit
d&rsquo;avoir plusieurs parents, dans certaines circonstances.</p></li><li><p>Des métadonnées diverses, comme la date et l&rsquo;heure de création du commit,
l&rsquo;adresse de courriel du committeur, etc.</p></li></ol><p>La présence du pointeur vers un commit parent suggère un concept fondamental
avec git : les commits forment une chaîne :</p><label class=book-image for=book-image-toggle-7><input class="hidden toggle" type=checkbox id=book-image-toggle-7>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-chain.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-7"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Chaque commit a donc un hash qui &ldquo;pointe&rdquo; vers son commit prédécesseur (nous
verrons plus loin qu&rsquo;il est possible pour un commit d&rsquo;avoir plus d&rsquo;un parents,
et en quoi c&rsquo;est utile), pour former une chaîne.</p><p>Jusqu&rsquo;ici, git ne nous permet que d&rsquo;évoluer de manière linéaire, étant donné que
n&rsquo;avons qu&rsquo;une chaîne de commits. Pourtant, le développement logiciel, surtout
s&rsquo;il est effectué par une équipe, est tout sauf linéaire. Des embranchements
peuvent être nécessaires dans le processus d&rsquo;évolution du code source. Pour
illustrer cela, imaginons que les 4 commits que nous avons jusqu&rsquo;à maintenant
correspondent à la version 1 (v1) d&rsquo;une application qu&rsquo;on a mise en ligne, et
qui est utilisée par le grand public. Mais étant donné qu&rsquo;on perd rarement
rarement du temps en développement logiciel, le travail a déjà commencé pour
concevoir la version 2 du même logiciel (qu&rsquo;on prévoit mettre en ligne plus
tard). Deux commits ont donc été ajoutés à notre chaîne, qui constituent le
début du travail sur la version 2. Notez qu&rsquo;à partir d&rsquo;ici, nous allons utiliser
des noms de commit plus simples pour les diagrammes, donc le commit <code>C1</code> va
correspondre <code>9e60</code>, <code>C2</code> à <code>34c8</code>, et ainsi de suite. Nos deux nouveaux commits
pour la version 2 de l&rsquo;application seraient donc <code>C5</code> et <code>C6</code></p><label class=book-image for=book-image-toggle-8><input class="hidden toggle" type=checkbox id=book-image-toggle-8>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-linear-versions.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-8"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Maintenant imaginons ce qui se passerait si un bogue était découvert dans la
version 1, présentement en ligne (et qui correspond au commit <code>C4</code> (<code>3dd7</code>) dans
notre exemple) :</p><label class=book-image for=book-image-toggle-9><input class="hidden toggle" type=checkbox id=book-image-toggle-9>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-linear-versions-bug.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-9"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Le problème est donc que la chaîne de commits est déjà rendue plus loin, au
deuxième commit de la version 2, soit le commit <code>C6</code> ! Il faudrait produire un
commit <code>C7</code>, qui serait une correction de <code>C4</code>, mais qui n’inclurait pas les
changements introduits par la version 2 (<code>C5</code> et <code>C6</code>). Comment serait-il
possible de résoudre un tel problème. Arrêtez-vous un instant pour y réfléchir
si vous le désirez, avant de prendre connaissance de la réponse, car il s&rsquo;agit
d&rsquo;un problème fondamental et intéressant !</p><h4 id=la-branche>La branche<a class=anchor href=#la-branche>#</a></h4><p>La façon dont git permet de résoudre ce problème est à l&rsquo;aide d&rsquo;une <em>branche</em> :</p><label class=book-image for=book-image-toggle-10><input class="hidden toggle" type=checkbox id=book-image-toggle-10>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-with-branch-bugfix.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-10"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Donc au moment où le travail sur la version 1 est complété (au commit <code>C4</code>
donc), on doit créer une nouvelle branche (nommée <code>v2</code>), pour le travail qui
doit être effectué sur la nouvelle version 2. De cette manière, quand un
problème survient avec la version 1, il sera toujours possible de le résoudre en
ajoutant simplement un commit (<code>C7</code>) à la branche <code>main</code>, correspondant à la
version 1.</p><p>Il est souvent dit que créer une branche est sans contredit une des opérations
les plus simples et les moins coûteuses de git :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git branch v2</span></span></code></pre></div><p>En comparaison, les systèmes de versioning plus anciens que git faisaient en
sorte que cette opération était beaucoup plus coûteuse et complexe. La raison
qui fait en sorte que la branche est si simple, avec git, est le fait qu&rsquo;elle
est techniquement extrêmement simple : ce n&rsquo;est même pas un &ldquo;objet fondamental&rdquo;
au sens où le blob, le tree et le commit le sont.. il s&rsquo;agit plutôt simplement
d&rsquo;un fichier qui &ldquo;pointe&rdquo; vers le hash d&rsquo;un commit particulier :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat .git/refs/heads/v2
</span></span><span style=display:flex><span>3dd71fb4950c1be35ec335cd0ac40f3b5807303b</span></span></code></pre></div><p>On voit ici que le fichier <code>.git/refs/heads/v2</code>, dont le nom correspond à notre
nouvelle branche <code>v2</code>, contient simplement le commit <code>3dd7</code> (ou encore, <code>C4</code>,
dans nos diagrammes, pour simplifier), qui est l&rsquo;endroit de départ (ou
l&rsquo;embranchement) pour notre nouvelle branche.</p><p>Mais si une branche est si simple, qu&rsquo;elle n&rsquo;est qu&rsquo;une étiquette qui pointe
vers un commit, comment peut-elle fonctionner? Nous sommes présentement dans
l&rsquo;état suivant :</p><label class=book-image for=book-image-toggle-11><input class="hidden toggle" type=checkbox id=book-image-toggle-11>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-just-2-branches.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-11"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Si nous ajoutons un nouveau commit dans cet état, comment git fera pour savoir dans
quelle branche l&rsquo;ajouter? Nous devons donc introduire un nouveau concept : <code>HEAD</code>, qui
est un fichier qui &ldquo;pointe&rdquo; vers la branche active, celle dont nous voulous nous servir :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat .git/HEAD
</span></span><span style=display:flex><span>ref: refs/heads/main</span></span></code></pre></div><p>Voici donc la représentation réelle de notre état actuel :</p><label class=book-image for=book-image-toggle-12><input class="hidden toggle" type=checkbox id=book-image-toggle-12>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-just-2-branches-with-head.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-12"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Git manipule donc deux types de pointeur :</p><ol><li>Un pointeur vers un commit (soit une branche)</li><li>Un pointeur vers une branche (soit <code>HEAD</code>)</li></ol><p>Si on utilise cette commande :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git branch
</span></span><span style=display:flex><span>* main
</span></span><span style=display:flex><span>  v2</span></span></code></pre></div><p>git nous dit que la branche courante est toujours <code>main</code> (qui est la branche par
défaut, créée au moment de la création du dépôt), avec la petite étoile (<code>*</code>).
Si nous ajoutions un commit à ce moment-ci, il serait donc dans la branche
<code>main</code>. Mais comme nous voulons maintenant travailler dans la branche <code>v2</code>, nous
devons utiliser cette nouvelle commande :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git switch v2
</span></span><span style=display:flex><span>Switched to branch <span style=color:#e6db74>&#39;v2&#39;</span>
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git branch
</span></span><span style=display:flex><span>  main
</span></span><span style=display:flex><span>* v2</span></span></code></pre></div><p>pour nous retrouver maintenant dans cet état (avec lequel le pointeur <code>HEAD</code> pointe simplement
vers la nouvelle branche <code>v2</code>) :</p><label class=book-image for=book-image-toggle-13><input class="hidden toggle" type=checkbox id=book-image-toggle-13>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-just-2-branches-with-head-to-v2.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-13"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Continuons donc notre expérience de pensée, et imaginons que nous sommes en train de travailler
dans le contexte de la version 2, et que nous ajoutons deux nouveaux commits (<code>C5</code> et <code>C6</code> dans notre
notation simplifiée pour les diagrammes) :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;aa&#34;</span> &gt;&gt; toto.txt
</span></span><span style=display:flex><span>$ git commit -am <span style=color:#e6db74>&#34;Cinquième commit (premier de v2)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>v2 b1d097c<span style=color:#f92672>]</span> Cinquième commit <span style=color:#f92672>(</span>premier de v2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;bb&#34;</span> &gt;&gt; toto.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git commit -am <span style=color:#e6db74>&#34;Sixième commit (deuxième de v2)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>v2 daa06a6<span style=color:#f92672>]</span> Sixième commit <span style=color:#f92672>(</span>deuxième de v2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span></span></span></code></pre></div><p>Notre dépôt est maintenant comme ceci :</p><label class=book-image for=book-image-toggle-14><input class="hidden toggle" type=checkbox id=book-image-toggle-14>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-two-new-commits.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-14"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Notez que la structure du diagramme pourrait aisément suggérer que nous sommes
toujours dans une structure linéaire (une chaîne), et on pourrait se demander :
en quoi est-ce différent du modèle précédent, à une seule branche? La clé est
d&rsquo;avoir le bon modèle mental : une branche n&rsquo;est qu&rsquo;un pointeur ! Et notre
diagramme montre que nous avons deux pointeurs, donc deux branches : <code>main</code> et
<code>v2</code>. Les commits <code>C1</code> à <code>C4</code> sont communs aux deux branches, et les commits
<code>C5</code> et <code>C6</code> appartiennent seulement à la branche <code>v2</code>. Et comme <code>HEAD</code> montre
(pointe) que nous nous trouvons sur la branche <code>v2</code>, tout nouveau commit s&rsquo;y
retrouverait également.</p><p>Si on reprend le cours de notre expérience de pensée, on arrive au moment où un
bogue serait découvert avec la version 1 ! Que peut-on faire, avec la solution? Si
on ne fait qu&rsquo;ajouter un commit (pour la solution), elle se retrouvera à suivre <code>C6</code> dans la
branche <code>v2</code>, ce qui n&rsquo;est pas ce que l&rsquo;on veut (car la version 1 n&rsquo;inclut pas encore les nouveautés
de la version 2). La solution est donc de changer tout d&rsquo;abord de branche :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git switch main
</span></span><span style=display:flex><span>Switched to branch <span style=color:#e6db74>&#39;main&#39;</span>
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git branch
</span></span><span style=display:flex><span>* main
</span></span><span style=display:flex><span>  v2</span></span></code></pre></div><p>ce qui ne fait que déplacer le pointeur <code>HEAD</code> vers la branche <code>main</code>, là où se trouve notre
fameux bogue :</p><label class=book-image for=book-image-toggle-15><input class="hidden toggle" type=checkbox id=book-image-toggle-15>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-move-head-back-to-main.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-15"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Nous sommes donc maintenant en position de fournir la solution à notre bogue, et
de faire en sorte qu&rsquo;elle se retrouve à l&rsquo;endroit logique là où elle devrait
être :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;solution&#34;</span> &gt;&gt; toto.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git commit -am <span style=color:#e6db74>&#34;Septième commit (bugfix v1)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main f229f82<span style=color:#f92672>]</span> Septième commit <span style=color:#f92672>(</span>bugfix v1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span></span></span></code></pre></div><p>Et avec ceci, nous nous retrouvons donc dans la situation suivante :</p><label class=book-image for=book-image-toggle-16><input class="hidden toggle" type=checkbox id=book-image-toggle-16>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-c7-bugfix.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-16"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>qui correspond exactement à la configuration souhaitée que nous avons décrite
plus haut (prenez le temps de vous en convaincre, car c&rsquo;est important).</p><h4 id=le-merge-de-deux-branches>Le merge (de deux branches)<a class=anchor href=#le-merge-de-deux-branches>#</a></h4><p>Poursuivons notre scénario imaginé : une fois le bogue dans la version 1
corrigé, il se trouve que la version 2 est maintenant prête, et nous aimerions
la mettre en ligne, pour que les utilisateurs puissent l&rsquo;utiliser. Ceci veut
donc dire que nous aimerions que le travail effectué dans les commits <code>C5</code> et
<code>C6</code>, de la branche <code>v2</code>, soit intégré à la version 1, dont l&rsquo;état le plus
récent se trouve dans notre commit actuel, <code>C7</code>. La commande pour faire cela
est <code>git merge</code> :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git merge v2
</span></span><span style=display:flex><span>Auto-merging toto.txt
</span></span><span style=display:flex><span>CONFLICT <span style=color:#f92672>(</span>content<span style=color:#f92672>)</span>: Merge conflict in toto.txt
</span></span><span style=display:flex><span>Automatic merge failed; fix conflicts and <span style=color:#66d9ef>then</span> commit the result.</span></span></code></pre></div><p>Que s&rsquo;est-il passé? Il semble y avoir un problème ! Le merge a causé un
&ldquo;conflit&rdquo;, une incohérence entre la version du fichier <code>toto.txt</code> de la branche
<code>v2</code>, et celle de la branche <code>main</code>. Git nous informe qu&rsquo;il n&rsquo;a pas pu résoudre
lui-même ce conflit (très souvent il est en mesure de le faire, mais pas cette
fois) et que nous devons donc intervenir manuellement, avant de pouvoir
poursuivre. La commande <code>git diff</code> permet de mieux comprendre le problème :</p><pre tabindex=0><code class=language-$ data-lang=$>diff --cc toto.txt
index 650d061,d521aa0..0000000
--- a/toto.txt
+++ b/toto.txt
@@@ -1,3 -1,4 +1,8 @@@
  allo!
  bonjour
++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
 +solution
++=======
+ aa
+ bb
++&gt;&gt;&gt;&gt;&gt;&gt;&gt; v2</code></pre><p>La syntaxe de cette sortie n&rsquo;est pas si évidente, mais en gros, ce qui se trouve
entre <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> et <code>=======</code> correspond à une version (de la branche
<code>main</code>), et ce qui se trouve entre <code>=======</code> et <code>>>>>>>></code> à l&rsquo;autre version (de
la branche <code>v2</code>). Ces deux parties sont en contradiction, dans le sens qu&rsquo;elles
occupent le même endroit dans le fichier, et git ne sait pas comment choisir. Il
faut donc éditer le fichier nous-même, et décider ce qu&rsquo;on veut garder.</p><label class=book-image for=book-image-toggle-17><input class="hidden toggle" type=checkbox id=book-image-toggle-17>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-conflict.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-17"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Dans ce cas particulier, éditez le fichier (vous pouvez par exemple utiliser les
éditeurs <code>vim</code> ou <code>nano</code>, sur la ligne de commande) pour qu&rsquo;il ait l&rsquo;air de ceci
:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat toto.txt
</span></span><span style=display:flex><span>allo!
</span></span><span style=display:flex><span>bonjour
</span></span><span style=display:flex><span>solution
</span></span><span style=display:flex><span>aa
</span></span><span style=display:flex><span>bb</span></span></code></pre></div><p>Une fois le fichier modifié, git nous informe très clairement de la situation :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>All conflicts fixed but you are still merging.
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git commit&#34;</span> to conclude merge<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Changes to be committed:
</span></span><span style=display:flex><span>        modified:   toto.txt</span></span></code></pre></div><p>Il faut donc ajouter le fichier dont on a résolu les conflits, et ensuite on peut
faire notre commit, ce qui complétera le merge :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git add toto.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Huitième commit (merge)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main 55f1243<span style=color:#f92672>]</span> Huitième commit <span style=color:#f92672>(</span>merge<span style=color:#f92672>)</span></span></span></code></pre></div><label class=book-image for=book-image-toggle-18><input class="hidden toggle" type=checkbox id=book-image-toggle-18>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-merge.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-18"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Si on utilise maintenant la commande <code>git log</code>, la totalité de l&rsquo;évolution de la
branche <code>main</code> (incluant son passage temporaire dans la branche <code>v2</code>) devient
claire :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit 55f1243bb2bd319d2bfefc8e9040dba986456285 <span style=color:#f92672>(</span>HEAD -&gt; main<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Merge: f229f82 daa06a6
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Wed Jan <span style=color:#ae81ff>21</span> 09:40:53 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Huitième commit <span style=color:#f92672>(</span>merge<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit f229f82b53ca118d69daa1cccbbe7a296da87758
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Tue Jan <span style=color:#ae81ff>20</span> 11:15:54 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Septième commit <span style=color:#f92672>(</span>bugfix v1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit daa06a6ceb25c2d008b491b1faba20ce4f5b16d5 <span style=color:#f92672>(</span>v2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Tue Jan <span style=color:#ae81ff>20</span> 10:45:38 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Sixième commit <span style=color:#f92672>(</span>deuxième de v2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit b1d097c40b6b69dc342cdac2bb09c11bbe853fc0
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Tue Jan <span style=color:#ae81ff>20</span> 10:45:19 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Cinquième commit <span style=color:#f92672>(</span>premier de v2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 3dd71fb4950c1be35ec335cd0ac40f3b5807303b
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Fri Jan <span style=color:#ae81ff>16</span> 15:40:53 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Quatrième commit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 2e6fdee379fbe0d258b2d5f04e7cdd0b4d5cbccb
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 19:05:29 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Troisième commit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 34c85abbbbee1c21c34da2b5ed126cb888fcb498
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 14:57:15 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Deuxième commit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 9e6072c8df904f021474a6173cc1b17b2908c0f1
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Thu Jan <span style=color:#ae81ff>15</span> 12:16:21 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Premier commit</span></span></code></pre></div><p>Si on examine plus attentivement notre dernier commit (<code>C8</code> dans le diagramme), on
constate un détail intéressant :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git cat-file -p 55f1
</span></span><span style=display:flex><span>tree d9b5afa4d6f37608b115b489fbca9ac5eaa4b67b
</span></span><span style=display:flex><span>parent f229f82b53ca118d69daa1cccbbe7a296da87758
</span></span><span style=display:flex><span>parent daa06a6ceb25c2d008b491b1faba20ce4f5b16d5
</span></span><span style=display:flex><span>author Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1769006453</span> -0500
</span></span><span style=display:flex><span>committer Christian Jauvin &lt;cjauvin@gmail.com&gt; <span style=color:#ae81ff>1769006453</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Huitième commit <span style=color:#f92672>(</span>merge<span style=color:#f92672>)</span></span></span></code></pre></div><p>Ce commit a donc deux pointeurs parents (<code>C6</code> et <code>C7</code>) ! Ceci est dû au fait
qu&rsquo;il est un commit de merge. Sur le diagramme, ceci correspond au fait que deux
flèches partent de <code>C8</code>, au lieu d&rsquo;une seule, comme les autres commits.</p><blockquote class='book-hint note'><p>Il est utile de savoir que cet aspect structural de l&rsquo;évolution des commits d&rsquo;un
dépôt git forme un <a href=https://fr.wikipedia.org/wiki/Graphe_orient%C3%A9_acyclique>graphe orienté
acyclique</a> (ou plus
communément un DAG, en anglais). Ceci est une structure intermédiaire entre un
arbre (dont les noeuds ne peuvent avoir qu&rsquo;un seul parent) et une graphe
général, où les noeuds peuvent avoir plusieurs parents et plusieurs enfants). Un
DAG ne permet donc pas les &ldquo;circuits&rdquo;.</p></blockquote><h3 id=au-delà-du-git-local--git-distribué>Au-delà du git local : git distribué<a class=anchor href=#au-del%c3%a0-du-git-local--git-distribu%c3%a9>#</a></h3><p>Jusqu&rsquo;ici nous avons utilisé git en mode local, c&rsquo;est-à-dire que la totalité des
opérations que nous avons effectuées sont confinées dans le contexte particulier
de notre dépôt local, dans un endroit particulier de notre disque, sur un
ordinateur particulier. Mais le modèle de git est beaucoup plus puissant et
général, car il permet de synchroniser des versions différentes du même dépôt, à
travers le réseau internet. On dit que le modèle est <em>distribué</em>. Ce mode est
évidemment optionnel, et il est tout à fait possible d&rsquo;utiliser git de manière
exclusivement locale, si ça correspond à notre besoin. Mais dans un contexte de
collaboration pour le développement logiciel, le mode distribué de git est
quasiment essentiel. Une bonne manière de commencer notre exploration de cette
nouvelle idée est en étendant notre modèle mental des trois &ldquo;endroits&rdquo; du git
local avec un quatrième &ldquo;endroit&rdquo;, qui correspond à une autre version du même
depot, qui se trouve &ldquo;ailleurs&rdquo; :</p><label class=book-image for=book-image-toggle-19><input class="hidden toggle" type=checkbox id=book-image-toggle-19>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-4-places.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-19"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Il est important de comprendre que cet &ldquo;ailleurs&rdquo; peut être en fait plusieurs types d&rsquo;endroit :</p><ol><li>Un autre répertoire sur le même ordinateur</li><li>Un autre ordinateur (par exemple un serveur en ligne)</li><li>Un service d&rsquo;hébergement en ligne pour git, par exemple GitHub, qui est de loin le plus populaire.</li></ol><p>Fondamentalement tous ces endroits fonctionnent de la même manière (pour
communiquer entre eux), mais nous allons nous concentrer sur l&rsquo;usage avec
GitHub, qui est le plus courant et utile. Jusqu&rsquo;ici nous avons travaillé dans
notre dépôt local, mais imaginons que nous aimerions collaborer avec d&rsquo;autres
programmeurs. Pour cela, il est très courant d&rsquo;utiliser GitHub. Créons tout
d&rsquo;abord un nouveau dépôt dans notre compte GitHub :</p><label class=book-image for=book-image-toggle-20><input class="hidden toggle" type=checkbox id=book-image-toggle-20>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-create-repo.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-20"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>GitHub nous offre ensuite deux scénarios :</p><label class=book-image for=book-image-toggle-21><input class="hidden toggle" type=checkbox id=book-image-toggle-21>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-create-repo-2-options.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-21"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><ol><li>Nous avons créé ce dépôt entièrement en ligne, et il est donc nouveau (nous en voudrions donc une copie locale, pour pouvoir y travailler)</li><li>Nous avons déjà un dépôt local existant, et nous aimerions que ce dépôt en ligne que nous venons de créer (sur GitHub) y soit associé</li></ol><p>Dans notre scénario d&rsquo;apprentissage, nous sommes dans l&rsquo;option 2 (assurez-vous
de vous arrêter un moment pour y penser, et vous en convaincre, car les nuances
topologiques des dépôts git distribués peuvent devenir difficile à se
représenter).</p><p>Effectuons donc les commandes recommandées par GitHub, dans la ligne de commande
de notre dépôt local :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git remote add origin git@github.com:cjauvin/mon-premier-depot.git</span></span></code></pre></div><p>Avec cette commande, nous avons créé un &ldquo;remote&rdquo;, nommé <code>origin</code> qui est
simplement un lien (url), de notre dépôt local, vers un dépôt distant (remote
veut dire distant, souvent en ligne).</p><p>On peut constater l&rsquo;ajout de ce lien dans le fichier <code>.git/config</code> de notre
dépôt local :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat .git/config
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>core<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        repositoryformatversion <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        filemode <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>        bare <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>        logallrefupdates <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>        ignorecase <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>        precomposeunicode <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>remote <span style=color:#e6db74>&#34;origin&#34;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> git@github.com:cjauvin/mon-premier-depot.git
</span></span><span style=display:flex><span>        fetch <span style=color:#f92672>=</span> +refs/heads/*:refs/remotes/origin/*</span></span></code></pre></div><p>La deuxième commande proposée est :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git branch -M main</span></span></code></pre></div><p>Ceci a pour but de changer le nom de la branche locale courante, historiquement
par défaut nommée <code>master</code> par git, à <code>main</code>, qui est le nouveau nom par défaut
de la branche principale d&rsquo;un dépôt sur GitHub. Ceci est simplement pour éviter
la confusion, et synchroniser le nom des deux branches à une valeur commune.</p><p>La troisième commande va envoyer (push) notre branche locale <code>main</code>
vers le remote <code>origin</code>, afin de synchroniser les deux dépôts :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git push -u origin main
</span></span><span style=display:flex><span>Enumerating objects: 27, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Counting objects: 100% <span style=color:#f92672>(</span>27/27<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Delta compression using up to <span style=color:#ae81ff>10</span> threads
</span></span><span style=display:flex><span>Compressing objects: 100% <span style=color:#f92672>(</span>16/16<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Writing objects: 100% <span style=color:#f92672>(</span>27/27<span style=color:#f92672>)</span>, 2.23 KiB | 1.11 MiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Total <span style=color:#ae81ff>27</span> <span style=color:#f92672>(</span>delta 1<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>remote: Resolving deltas: 100% <span style=color:#f92672>(</span>1/1<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>To github.com:cjauvin/mon-premier-depot.git
</span></span><span style=display:flex><span> * <span style=color:#f92672>[</span>new branch<span style=color:#f92672>]</span>      main -&gt; main
</span></span><span style=display:flex><span>branch <span style=color:#e6db74>&#39;main&#39;</span> set up to track <span style=color:#e6db74>&#39;origin/main&#39;</span>.</span></span></code></pre></div><p>L&rsquo;option <code>-u</code> (pour &ldquo;upstream&rdquo;) en particulier est cruciale, car elle permet de
faire une association directe entre la branche locale <code>main</code> et la branche en
ligne correspondante, <code>origin/main</code>. Donc dans le contexte de la branche locale
<code>main</code>, nous n&rsquo;aurons pas à spécifier de quel remote en particulier on parle,
quand on voudra faire les commandes <code>git push</code> et <code>git pull</code>, car l&rsquo;association
sera implicite.</p><p>Si on rafraîchit maintenant la page du dépôt sur GitHub, on devrait voir ceci :</p><label class=book-image for=book-image-toggle-22><input class="hidden toggle" type=checkbox id=book-image-toggle-22>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-repo-ready.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-22"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Et si on visite la section des commits en particulier, on peut voir l&rsquo;historique
de notre dépôt local, qui se retrouve maintenant intégralement dans la version
du dépôt en ligne sur GitHub :</p><label class=book-image for=book-image-toggle-23><input class="hidden toggle" type=checkbox id=book-image-toggle-23>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-commit-history.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-23"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Nous allons maintenant explorer les possibilités qu&rsquo;offre le fait d&rsquo;avoir un
dépôt en ligne, dans le contexte d&rsquo;un groupe de collaborateurs. Imaginons que
nous sommes Leila, jusqu&rsquo;à maintenant, et qu&rsquo;une deuxième collaboratrice, nommée
Sara, voudrait se joindre à notre projet, pour y contribuer. Pour simuler cela,
nous allons simplement imaginer que Sara voudrait travailler sur le même
ordinateur (local) que celui de Leila, mais dans un autre répertoire, ailleurs
sur le disque donc (ce que git permet très aisément, avec ou sans dépôt en ligne
d&rsquo;ailleurs). Sara va donc &ldquo;cloner&rdquo; le dépôt en ligne, de GitHub vers un autre
endroit sur l&rsquo;ordinateur local :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ cd /espace/de/travail/de/sara/
</span></span><span style=display:flex><span>$ git clone git@github.com:cjauvin/mon-premier-depot.git meme-depot-ailleurs
</span></span><span style=display:flex><span>Cloning into <span style=color:#e6db74>&#39;meme-depot-ailleurs&#39;</span>...
</span></span><span style=display:flex><span>remote: Enumerating objects: 27, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Counting objects: 100% <span style=color:#f92672>(</span>27/27<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Compressing objects: 100% <span style=color:#f92672>(</span>15/15<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Total <span style=color:#ae81ff>27</span> <span style=color:#f92672>(</span>delta 1<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>27</span> <span style=color:#f92672>(</span>delta 1<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Receiving objects: 100% <span style=color:#f92672>(</span>27/27<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Resolving deltas: 100% <span style=color:#f92672>(</span>1/1<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.</span></span></code></pre></div><p>Notons que quand on clone un dépôt, on peut choisir le nom que l&rsquo;on veut pour le
répertoire qui le contient. Dans ce cas nous avons choisi <code>meme-depot-ailleurs</code>
pour réduire la confusion, mais si on avait utilisé la commande <code>git clone</code> sans
spécifier de nom, un nouveau répertoire <code>mon-premier-depot</code> serait
automatiquement créé et utilisé. C&rsquo;est pourquoi il est préférable d&rsquo;avoir
navigué au préalable vers <code>/un/autre/endroit/du/disque/</code>.</p><p>Nous nous retrouvons donc dans la situation suivante :</p><label class=book-image for=book-image-toggle-24><input class="hidden toggle" type=checkbox id=book-image-toggle-24>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-3-repos.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-24"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Supposons maintenant que Sara souhaite faire un changement au code de son nouveau
dépôt :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;de Sara!&#34;</span> &gt;&gt; toto.txt
</span></span><span style=display:flex><span>$ $ git commit -am <span style=color:#e6db74>&#34;Neuvième commit (de Sara)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main 878933d<span style=color:#f92672>]</span> Neuvième commit <span style=color:#f92672>(</span>de Sara<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span></span></span></code></pre></div><p>Comment sera-t-il possible pour Leila de prendre connaissance de son travail? Il faut
passer par le dépôt en ligne, sur GitHub :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git push
</span></span><span style=display:flex><span>Enumerating objects: 5, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Counting objects: 100% <span style=color:#f92672>(</span>5/5<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Delta compression using up to <span style=color:#ae81ff>10</span> threads
</span></span><span style=display:flex><span>Compressing objects: 100% <span style=color:#f92672>(</span>2/2<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Writing objects: 100% <span style=color:#f92672>(</span>3/3<span style=color:#f92672>)</span>, <span style=color:#ae81ff>330</span> bytes | 330.00 KiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Total <span style=color:#ae81ff>3</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>To github.com:cjauvin/mon-premier-depot.git
</span></span><span style=display:flex><span>   55f1243..878933d  main -&gt; main</span></span></code></pre></div><p>On remarque que Sara (qui vient de faire la commande <code>git push</code> dans son dépôt)
n&rsquo;a pas eu à se préoccuper de la configuration du remote <code>origin</code>, ni de
l&rsquo;association de sa branche locale <code>main</code> avec la branche <code>origin/main</code>, car le
fait d&rsquo;avoir utilisé <code>clone</code> effectue cette configuration initiale,
automatiquement.</p><p>Si on rafraîchit maintenant la page des commits de notre dépôt en ligne sur GitHub,
on devrait voir apparaître le commit de Sara, qu&rsquo;elle vient de &ldquo;pousser&rdquo; (<code>push</code>) :</p><label class=book-image for=book-image-toggle-25><input class="hidden toggle" type=checkbox id=book-image-toggle-25>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-commit-sara.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-25"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>À ce point dans notre histoire, le nouveau commit de Sara (<code>8789</code>, pour être précis)
se trouve dans deux dépôts : le sien, et celui de GitHub. Pour que Leila puisse l&rsquo;obtenir,
elle doit faire <code>git pull</code> dans son propre dépôt :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git pull
</span></span><span style=display:flex><span>remote: Enumerating objects: 5, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Counting objects: 100% <span style=color:#f92672>(</span>5/5<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Compressing objects: 100% <span style=color:#f92672>(</span>2/2<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Total <span style=color:#ae81ff>3</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>3</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Unpacking objects: 100% <span style=color:#f92672>(</span>3/3<span style=color:#f92672>)</span>, <span style=color:#ae81ff>310</span> bytes | 62.00 KiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>From github.com:cjauvin/mon-premier-depot
</span></span><span style=display:flex><span>   55f1243..878933d  main       -&gt; origin/main
</span></span><span style=display:flex><span>Updating 55f1243..878933d
</span></span><span style=display:flex><span>Fast-forward
</span></span><span style=display:flex><span> toto.txt | <span style=color:#ae81ff>1</span> +
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span></span></span></code></pre></div><p>Les trois dépôts sont maintenant synchronisés :</p><label class=book-image for=book-image-toggle-26><input class="hidden toggle" type=checkbox id=book-image-toggle-26>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-3-repos-synced.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-26"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><h3 id=collaborer-avec-git-et-github>Collaborer avec git et GitHub<a class=anchor href=#collaborer-avec-git-et-github>#</a></h3><p>Nous allons finalement explorer une variation plus réaliste d&rsquo;un mécanisme de
collaboration rendu possible par git et GitHub : la &ldquo;pull request&rdquo;.</p><p>Supposons que Sara veuille encore une fois collaborer au projet, mais cette fois
elle aimerait le faire d&rsquo;une manière qui impliquerait Leila de manière plus
active, en lui &ldquo;demandant la permission&rdquo; (dans un certain sens), d&rsquo;effectuer une
modification. Sara pourrait commencer en créant une branche dans son dépôt local :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git switch -c proposition
</span></span><span style=display:flex><span>Switched to a new branch <span style=color:#e6db74>&#39;proposition&#39;</span></span></span></code></pre></div><p>Elle pourrait alors effectuer son travail, le commiter, et pousser sa nouvelle
branche vers le dépôt en ligne GitHub :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;c&#39;est nouveau!&#34;</span> &gt;&gt; sara.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git add sara.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Dixième commit (de Sara)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>proposition 5998c71<span style=color:#f92672>]</span> Dixième commit <span style=color:#f92672>(</span>de Sara<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> sara.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git push --set-upstream origin proposition
</span></span><span style=display:flex><span>Enumerating objects: 4, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Counting objects: 100% <span style=color:#f92672>(</span>4/4<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Delta compression using up to <span style=color:#ae81ff>10</span> threads
</span></span><span style=display:flex><span>Compressing objects: 100% <span style=color:#f92672>(</span>2/2<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Writing objects: 100% <span style=color:#f92672>(</span>3/3<span style=color:#f92672>)</span>, <span style=color:#ae81ff>336</span> bytes | 336.00 KiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Total <span style=color:#ae81ff>3</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>remote:
</span></span><span style=display:flex><span>remote: Create a pull request <span style=color:#66d9ef>for</span> <span style=color:#e6db74>&#39;proposition&#39;</span> on GitHub by visiting:
</span></span><span style=display:flex><span>remote:      https://github.com/cjauvin/mon-premier-depot/pull/new/proposition
</span></span><span style=display:flex><span>remote:
</span></span><span style=display:flex><span>To github.com:cjauvin/mon-premier-depot.git
</span></span><span style=display:flex><span> * <span style=color:#f92672>[</span>new branch<span style=color:#f92672>]</span>      proposition -&gt; proposition
</span></span><span style=display:flex><span>branch <span style=color:#e6db74>&#39;proposition&#39;</span> set up to track <span style=color:#e6db74>&#39;origin/proposition&#39;</span>.</span></span></code></pre></div><p>Après avoir fait cela, Sara devrait voir une option apparaître dans le dépôt GitHub,
après l&rsquo;avoir rafraîchi :</p><label class=book-image for=book-image-toggle-27><input class="hidden toggle" type=checkbox id=book-image-toggle-27>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-pr-offer.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-27"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Elle peut ensuite préparer sa pull request (PR), en faisant une description et
en expliquant le contexte (peut-être qu&rsquo;il s&rsquo;agit d&rsquo;un bogue qu&rsquo;elle a remarqué,
et pour lequel elle aimerait proposer une correction). Elle peut souvent
assigner un &ldquo;reviewer&rdquo;, qui sera en charge de faire l&rsquo;évaluation de la PR, et de
déterminer si elle sera acceptée ou non. Imaginons que ce reviewer devrait être
Leila.</p><label class=book-image for=book-image-toggle-28><input class="hidden toggle" type=checkbox id=book-image-toggle-28>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-pr.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-28"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Leila pourra ensuite entrer en jeu : elle recevra la PR, pourra examiner les
changements, commenter, demander des changements supplémentaires, et finalement
l&rsquo;accepter ou la refuser :</p><label class=book-image for=book-image-toggle-29><input class="hidden toggle" type=checkbox id=book-image-toggle-29>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-pr-suite.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-29"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Notez qu&rsquo;une PR est souvent un lieu de conversation, parfois très longue, et qui
peut être particulièrement animée !</p><p>Si Leila accepte le travail effectué par Sara (donc la PR), la branche
<code>proposition</code> sera &ldquo;mergée&rdquo; dans la branche <code>main</code> (tout cela se passe toujours
dans le dépôt en ligne GitHub) :</p><label class=book-image for=book-image-toggle-30><input class="hidden toggle" type=checkbox id=book-image-toggle-30>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-pr-merged.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-30"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Après le merge de la PR, si on consulte la page des commits (de la branche <code>main</code>), on constate qu&rsquo;un
nouveau commit, est apparu, en plus du commit correspondant au travail de Sara à
proprement parlé :</p><label class=book-image for=book-image-toggle-31><input class="hidden toggle" type=checkbox id=book-image-toggle-31>
<img src=https://cjauvin.github.io/inf1410-teluq/docs/module3/versioning/git-gh-pr-merge-commit.png alt loading=lazy title>
</label><script>(function(){const e=document.getElementById("book-image-toggle-31"),t=function(t){t.key==="Escape"&&e.checked&&(e.checked=!1)};e.addEventListener("change",function(){this.checked?document.addEventListener("keydown",t):document.removeEventListener("keydown",t)})})()</script><p>Notez qu&rsquo;un nouveau commit correspondant au merge est parfois nécessaire dans
certains contextes (quand git ne peut pas effecter un merge de type
&ldquo;fast-forward&rdquo;, qui est le type le plus simple).</p><p>Pour avoir la version la plus récente du travail effectué (sur la branche
<code>main</code>), Leila doit faire un pull dans son dépôt local :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git pull
</span></span><span style=display:flex><span>remote: Enumerating objects: 5, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Counting objects: 100% <span style=color:#f92672>(</span>5/5<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Compressing objects: 100% <span style=color:#f92672>(</span>3/3<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Total <span style=color:#ae81ff>4</span> <span style=color:#f92672>(</span>delta 1<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>2</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Unpacking objects: 100% <span style=color:#f92672>(</span>4/4<span style=color:#f92672>)</span>, 1.08 KiB | 158.00 KiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>From github.com:cjauvin/mon-premier-depot
</span></span><span style=display:flex><span>   878933d..e58cc7a  main        -&gt; origin/main
</span></span><span style=display:flex><span> * <span style=color:#f92672>[</span>new branch<span style=color:#f92672>]</span>      proposition -&gt; origin/proposition
</span></span><span style=display:flex><span>Updating 878933d..e58cc7a
</span></span><span style=display:flex><span>Fast-forward
</span></span><span style=display:flex><span> sara.txt | <span style=color:#ae81ff>1</span> +
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> sara.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git log -1
</span></span><span style=display:flex><span>commit e58cc7a8a34ccf66158cc05c98bfd2700e7fba04 <span style=color:#f92672>(</span>HEAD -&gt; main, origin/main, origin/HEAD<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Merge: 878933d 5998c71
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Wed Jan <span style=color:#ae81ff>28</span> 11:44:47 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Merge pull request <span style=color:#75715e>#1 from cjauvin/proposition</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Proposition d<span style=color:#960050;background-color:#1e0010>&#39;</span>une nouvelle fonction</span></span></code></pre></div><p>Et finalement, Sara doit également rafraîchir son dépôt local, même si c&rsquo;est
elle qui a fait le travail, car sa branche <code>main</code> locale ne contient pas encore
le commit final de merge, ajouté par git, dans le dépôt en ligne GitHub. Elle
doit tout d&rsquo;abord switcher à sa branche locale <code>main</code> (de sa branche
<code>proposition</code>), et ensuite la rafraîchir :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>$ git switch main
</span></span><span style=display:flex><span>Switched to branch <span style=color:#e6db74>&#39;main&#39;</span>
</span></span><span style=display:flex><span>Your branch is up to date with <span style=color:#e6db74>&#39;origin/main&#39;</span>.
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git pull
</span></span><span style=display:flex><span>remote: Enumerating objects: 1, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Counting objects: 100% <span style=color:#f92672>(</span>1/1<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Total <span style=color:#ae81ff>1</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>from 0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Unpacking objects: 100% <span style=color:#f92672>(</span>1/1<span style=color:#f92672>)</span>, <span style=color:#ae81ff>909</span> bytes | 454.00 KiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>From github.com:cjauvin/mon-premier-depot
</span></span><span style=display:flex><span>   878933d..e58cc7a  main       -&gt; origin/main
</span></span><span style=display:flex><span>Updating 878933d..e58cc7a
</span></span><span style=display:flex><span>Fast-forward
</span></span><span style=display:flex><span> sara.txt | <span style=color:#ae81ff>1</span> +
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> create mode <span style=color:#ae81ff>100644</span> sara.txt
</span></span><span style=display:flex><span>$
</span></span><span style=display:flex><span>$ git log -1
</span></span><span style=display:flex><span>commit e58cc7a8a34ccf66158cc05c98bfd2700e7fba04 <span style=color:#f92672>(</span>HEAD -&gt; main, origin/main, origin/HEAD<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Merge: 878933d 5998c71
</span></span><span style=display:flex><span>Author: Christian Jauvin &lt;cjauvin@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Wed Jan <span style=color:#ae81ff>28</span> 11:44:47 <span style=color:#ae81ff>2026</span> -0500
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Merge pull request <span style=color:#75715e>#1 from cjauvin/proposition</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Proposition d<span style=color:#960050;background-color:#1e0010>&#39;</span>une nouvelle fonction</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/ class="flex align-center"><img src=https://cjauvin.github.io/inf1410-teluq/icons/backward.svg class=book-icon alt=Backward>
<span>Module 3 - Les outils et les environnements</span>
</a></span><span><a href=https://cjauvin.github.io/inf1410-teluq/docs/module3/docker/ class="flex align-center"><span>La conteneurisation avec docker</span>
<img src=https://cjauvin.github.io/inf1410-teluq/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#quel-est-le-problème-quon-cherche-à-résoudre>Quel est le problème qu&rsquo;on cherche à résoudre?</a></li><li><a href=#bref-historique-des-systèmes-de-gestion-de-versions>Bref historique des systèmes de gestion de versions</a><ul><li><a href=#première-génération--local-et-fichier-unique>Première génération : local et fichier unique</a></li><li><a href=#deuxième-génération--centralisé-et-projets-entiers>Deuxième génération : centralisé et projets entiers</a></li><li><a href=#troisième-génération--distribué>Troisième génération : distribué</a></li><li><a href=#tableau-récapitulatif>Tableau récapitulatif</a></li></ul></li><li><a href=#un-système-de-gestion-des-versions-moderne-et-extrêmement-populaire--git>Un système de gestion des versions moderne et extrêmement populaire : git</a><ul><li><a href=#fonction-de-hachage>Fonction de hachage</a></li><li><a href=#les-fondements-de-git>Les fondements de git</a><ul><li><a href=#premier-type-dobjet-fondamental-git--le-blob>Premier type d&rsquo;objet fondamental git : le blob</a></li><li><a href=#deuxième-type-dobjet-git-fondamental--le-tree>Deuxième type d&rsquo;objet git fondamental : le tree</a></li><li><a href=#troisième-type-dobjet-git-fondamental--le-commit>Troisième type d&rsquo;objet git fondamental : le commit</a></li><li><a href=#la-branche>La branche</a></li><li><a href=#le-merge-de-deux-branches>Le merge (de deux branches)</a></li></ul></li><li><a href=#au-delà-du-git-local--git-distribué>Au-delà du git local : git distribué</a></li><li><a href=#collaborer-avec-git-et-github>Collaborer avec git et GitHub</a></li></ul></li></ul></nav></div></aside></main><script src=https://cdn.jsdelivr.net/npm/iframe-resizer/js/iframeResizer.min.js defer></script><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll('iframe[data-iresize="true"]');if(!e.length||typeof iFrameResize!="function")return;const t={license:"GPLv3",checkOrigin:!1,onResized:function({iframe:e,height:t}){const s=e?.parentElement;if(!s)return;const o=e.getAttribute("data-transform-scale")||"1";let n=parseFloat(o);(!Number.isFinite(n)||n<=0)&&(n=1),s.style.height=t*n+"px"}};e.forEach(e=>{const n={...t},s=e.getAttribute("data-check-origin");s==="true"&&(n.checkOrigin=!0),s==="false"&&(n.checkOrigin=!1),e.getAttribute("data-log")==="true"&&(n.log=!0);const o=e.getAttribute("data-transform-scale")||"1";e.style.transform=`scale(${o})`,e.iFrameResizer||iframeResize(n,e)})})</script></body></html>